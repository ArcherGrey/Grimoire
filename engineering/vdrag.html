<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>可视化拖拽组件 | Grimoire</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/Grimoire/logo.png">
    <link rel="manifest" href="/Grimoire/manifest.json">
    <link rel="apple-touch-icon" href="/Grimoire/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/Grimoire/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <meta name="description" content="Magic Book">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/Grimoire/assets/css/0.styles.95ca9682.css" as="style"><link rel="preload" href="/Grimoire/assets/js/app.fcd81a0f.js" as="script"><link rel="preload" href="/Grimoire/assets/js/2.0cda6e6c.js" as="script"><link rel="preload" href="/Grimoire/assets/js/4.8c7aa336.js" as="script"><link rel="preload" href="/Grimoire/assets/js/15.b8087621.js" as="script"><link rel="prefetch" href="/Grimoire/assets/js/10.13f6a25c.js"><link rel="prefetch" href="/Grimoire/assets/js/100.a17997f5.js"><link rel="prefetch" href="/Grimoire/assets/js/101.a02a8f3a.js"><link rel="prefetch" href="/Grimoire/assets/js/102.ba14dab5.js"><link rel="prefetch" href="/Grimoire/assets/js/103.dfd8557e.js"><link rel="prefetch" href="/Grimoire/assets/js/104.b205a394.js"><link rel="prefetch" href="/Grimoire/assets/js/105.6b48132c.js"><link rel="prefetch" href="/Grimoire/assets/js/106.38bbca6c.js"><link rel="prefetch" href="/Grimoire/assets/js/107.19905d4c.js"><link rel="prefetch" href="/Grimoire/assets/js/108.ac0ccf00.js"><link rel="prefetch" href="/Grimoire/assets/js/109.fb828488.js"><link rel="prefetch" href="/Grimoire/assets/js/11.a1aadf84.js"><link rel="prefetch" href="/Grimoire/assets/js/110.052b7114.js"><link rel="prefetch" href="/Grimoire/assets/js/111.97c7dc5d.js"><link rel="prefetch" href="/Grimoire/assets/js/112.5832dea4.js"><link rel="prefetch" href="/Grimoire/assets/js/113.db2a178a.js"><link rel="prefetch" href="/Grimoire/assets/js/114.13c76d86.js"><link rel="prefetch" href="/Grimoire/assets/js/115.37335a8a.js"><link rel="prefetch" href="/Grimoire/assets/js/116.5705155a.js"><link rel="prefetch" href="/Grimoire/assets/js/117.42d30d19.js"><link rel="prefetch" href="/Grimoire/assets/js/118.6a8e0375.js"><link rel="prefetch" href="/Grimoire/assets/js/119.eadff3d7.js"><link rel="prefetch" href="/Grimoire/assets/js/12.87c0c167.js"><link rel="prefetch" href="/Grimoire/assets/js/120.9c1992c6.js"><link rel="prefetch" href="/Grimoire/assets/js/121.59340c42.js"><link rel="prefetch" href="/Grimoire/assets/js/122.291d3421.js"><link rel="prefetch" href="/Grimoire/assets/js/123.3baab3ce.js"><link rel="prefetch" href="/Grimoire/assets/js/124.83aec012.js"><link rel="prefetch" href="/Grimoire/assets/js/125.8f1e9ec7.js"><link rel="prefetch" href="/Grimoire/assets/js/126.4f9e2b1d.js"><link rel="prefetch" href="/Grimoire/assets/js/127.99b6aa0c.js"><link rel="prefetch" href="/Grimoire/assets/js/128.98119fbf.js"><link rel="prefetch" href="/Grimoire/assets/js/129.c3887af7.js"><link rel="prefetch" href="/Grimoire/assets/js/13.5e4d6ad8.js"><link rel="prefetch" href="/Grimoire/assets/js/130.2a650f8e.js"><link rel="prefetch" href="/Grimoire/assets/js/131.35fa76e4.js"><link rel="prefetch" href="/Grimoire/assets/js/132.8525eb9c.js"><link rel="prefetch" href="/Grimoire/assets/js/133.825931e7.js"><link rel="prefetch" href="/Grimoire/assets/js/134.305ff1df.js"><link rel="prefetch" href="/Grimoire/assets/js/135.4944c8e4.js"><link rel="prefetch" href="/Grimoire/assets/js/136.8c7fcb79.js"><link rel="prefetch" href="/Grimoire/assets/js/137.0af71467.js"><link rel="prefetch" href="/Grimoire/assets/js/138.a8eea3f2.js"><link rel="prefetch" href="/Grimoire/assets/js/139.08b701c8.js"><link rel="prefetch" href="/Grimoire/assets/js/14.d3287ae1.js"><link rel="prefetch" href="/Grimoire/assets/js/140.b6f4a1c4.js"><link rel="prefetch" href="/Grimoire/assets/js/141.a7215120.js"><link rel="prefetch" href="/Grimoire/assets/js/142.a09875cf.js"><link rel="prefetch" href="/Grimoire/assets/js/143.12a2c008.js"><link rel="prefetch" href="/Grimoire/assets/js/144.62007964.js"><link rel="prefetch" href="/Grimoire/assets/js/145.1bef072a.js"><link rel="prefetch" href="/Grimoire/assets/js/146.f3a7e1a5.js"><link rel="prefetch" href="/Grimoire/assets/js/147.b0e72fb1.js"><link rel="prefetch" href="/Grimoire/assets/js/148.ece80192.js"><link rel="prefetch" href="/Grimoire/assets/js/149.189cab7c.js"><link rel="prefetch" href="/Grimoire/assets/js/150.1969e306.js"><link rel="prefetch" href="/Grimoire/assets/js/151.e66bb269.js"><link rel="prefetch" href="/Grimoire/assets/js/152.986d4ccc.js"><link rel="prefetch" href="/Grimoire/assets/js/153.f56dd94a.js"><link rel="prefetch" href="/Grimoire/assets/js/154.f13a9dc2.js"><link rel="prefetch" href="/Grimoire/assets/js/155.073dc25a.js"><link rel="prefetch" href="/Grimoire/assets/js/156.2d9f892f.js"><link rel="prefetch" href="/Grimoire/assets/js/157.fec4da46.js"><link rel="prefetch" href="/Grimoire/assets/js/158.709d5b9c.js"><link rel="prefetch" href="/Grimoire/assets/js/159.e3c1f503.js"><link rel="prefetch" href="/Grimoire/assets/js/16.6f95a895.js"><link rel="prefetch" href="/Grimoire/assets/js/160.89b1a28b.js"><link rel="prefetch" href="/Grimoire/assets/js/161.ea3c759c.js"><link rel="prefetch" href="/Grimoire/assets/js/162.754b5007.js"><link rel="prefetch" href="/Grimoire/assets/js/163.5200acfa.js"><link rel="prefetch" href="/Grimoire/assets/js/164.2cac914f.js"><link rel="prefetch" href="/Grimoire/assets/js/165.d2b261f6.js"><link rel="prefetch" href="/Grimoire/assets/js/166.9a188b61.js"><link rel="prefetch" href="/Grimoire/assets/js/167.c9bbae28.js"><link rel="prefetch" href="/Grimoire/assets/js/168.593fc3fc.js"><link rel="prefetch" href="/Grimoire/assets/js/169.9d7f0bd3.js"><link rel="prefetch" href="/Grimoire/assets/js/17.07a95582.js"><link rel="prefetch" href="/Grimoire/assets/js/170.629c0bba.js"><link rel="prefetch" href="/Grimoire/assets/js/171.dd6bfe80.js"><link rel="prefetch" href="/Grimoire/assets/js/172.bea8825a.js"><link rel="prefetch" href="/Grimoire/assets/js/173.e08bac6c.js"><link rel="prefetch" href="/Grimoire/assets/js/174.e754ccb7.js"><link rel="prefetch" href="/Grimoire/assets/js/175.2550c14c.js"><link rel="prefetch" href="/Grimoire/assets/js/176.6443f8e2.js"><link rel="prefetch" href="/Grimoire/assets/js/177.7ecfc58e.js"><link rel="prefetch" href="/Grimoire/assets/js/178.a99e58b7.js"><link rel="prefetch" href="/Grimoire/assets/js/179.89e52d36.js"><link rel="prefetch" href="/Grimoire/assets/js/18.75d4ecfa.js"><link rel="prefetch" href="/Grimoire/assets/js/180.a344603e.js"><link rel="prefetch" href="/Grimoire/assets/js/181.23dde0f5.js"><link rel="prefetch" href="/Grimoire/assets/js/182.d5488672.js"><link rel="prefetch" href="/Grimoire/assets/js/183.9ba9d84a.js"><link rel="prefetch" href="/Grimoire/assets/js/184.138280de.js"><link rel="prefetch" href="/Grimoire/assets/js/185.cb7f6c4c.js"><link rel="prefetch" href="/Grimoire/assets/js/186.c554a609.js"><link rel="prefetch" href="/Grimoire/assets/js/187.e419fd79.js"><link rel="prefetch" href="/Grimoire/assets/js/188.830d35b0.js"><link rel="prefetch" href="/Grimoire/assets/js/189.40651b1b.js"><link rel="prefetch" href="/Grimoire/assets/js/19.ee3e67c9.js"><link rel="prefetch" href="/Grimoire/assets/js/190.3cfe898d.js"><link rel="prefetch" href="/Grimoire/assets/js/191.b7c4f676.js"><link rel="prefetch" href="/Grimoire/assets/js/192.a2a2ae6e.js"><link rel="prefetch" href="/Grimoire/assets/js/193.c2b34e8e.js"><link rel="prefetch" href="/Grimoire/assets/js/194.0e22957b.js"><link rel="prefetch" href="/Grimoire/assets/js/195.c3837c70.js"><link rel="prefetch" href="/Grimoire/assets/js/196.701b3bec.js"><link rel="prefetch" href="/Grimoire/assets/js/197.a0ad1586.js"><link rel="prefetch" href="/Grimoire/assets/js/198.0df819ef.js"><link rel="prefetch" href="/Grimoire/assets/js/199.9173218a.js"><link rel="prefetch" href="/Grimoire/assets/js/20.7d0ddcf3.js"><link rel="prefetch" href="/Grimoire/assets/js/200.c991dd0e.js"><link rel="prefetch" href="/Grimoire/assets/js/201.887c30d7.js"><link rel="prefetch" href="/Grimoire/assets/js/202.1f945ba4.js"><link rel="prefetch" href="/Grimoire/assets/js/203.0e4de284.js"><link rel="prefetch" href="/Grimoire/assets/js/204.dcc9b604.js"><link rel="prefetch" href="/Grimoire/assets/js/205.8a9c7b95.js"><link rel="prefetch" href="/Grimoire/assets/js/206.4f0e0f47.js"><link rel="prefetch" href="/Grimoire/assets/js/207.42ae5637.js"><link rel="prefetch" href="/Grimoire/assets/js/208.c496e881.js"><link rel="prefetch" href="/Grimoire/assets/js/209.dedc9627.js"><link rel="prefetch" href="/Grimoire/assets/js/21.689dfdd2.js"><link rel="prefetch" href="/Grimoire/assets/js/210.a27e211d.js"><link rel="prefetch" href="/Grimoire/assets/js/211.ea020455.js"><link rel="prefetch" href="/Grimoire/assets/js/212.90758d81.js"><link rel="prefetch" href="/Grimoire/assets/js/213.b7394cb7.js"><link rel="prefetch" href="/Grimoire/assets/js/214.2baf770d.js"><link rel="prefetch" href="/Grimoire/assets/js/215.82facc73.js"><link rel="prefetch" href="/Grimoire/assets/js/216.4b5df56d.js"><link rel="prefetch" href="/Grimoire/assets/js/217.dbc39d11.js"><link rel="prefetch" href="/Grimoire/assets/js/218.057f46c0.js"><link rel="prefetch" href="/Grimoire/assets/js/219.6ac56a38.js"><link rel="prefetch" href="/Grimoire/assets/js/22.13006394.js"><link rel="prefetch" href="/Grimoire/assets/js/220.55a0a9bd.js"><link rel="prefetch" href="/Grimoire/assets/js/221.98b0b9bb.js"><link rel="prefetch" href="/Grimoire/assets/js/222.82a9379f.js"><link rel="prefetch" href="/Grimoire/assets/js/223.37f00eb2.js"><link rel="prefetch" href="/Grimoire/assets/js/224.5a635fad.js"><link rel="prefetch" href="/Grimoire/assets/js/225.82539911.js"><link rel="prefetch" href="/Grimoire/assets/js/226.e17cce5c.js"><link rel="prefetch" href="/Grimoire/assets/js/227.7bb7f332.js"><link rel="prefetch" href="/Grimoire/assets/js/228.4de4180f.js"><link rel="prefetch" href="/Grimoire/assets/js/229.902462ea.js"><link rel="prefetch" href="/Grimoire/assets/js/23.17c80c78.js"><link rel="prefetch" href="/Grimoire/assets/js/230.799221d8.js"><link rel="prefetch" href="/Grimoire/assets/js/231.6ec1ebb3.js"><link rel="prefetch" href="/Grimoire/assets/js/232.17d6ae65.js"><link rel="prefetch" href="/Grimoire/assets/js/233.b3bdd487.js"><link rel="prefetch" href="/Grimoire/assets/js/234.17dc5ec4.js"><link rel="prefetch" href="/Grimoire/assets/js/235.6ffe69a9.js"><link rel="prefetch" href="/Grimoire/assets/js/236.f56f0e20.js"><link rel="prefetch" href="/Grimoire/assets/js/237.3b2680e2.js"><link rel="prefetch" href="/Grimoire/assets/js/238.3da5a263.js"><link rel="prefetch" href="/Grimoire/assets/js/239.69ed3d18.js"><link rel="prefetch" href="/Grimoire/assets/js/24.f8c2b1a7.js"><link rel="prefetch" href="/Grimoire/assets/js/240.21ae0d82.js"><link rel="prefetch" href="/Grimoire/assets/js/241.f81440fa.js"><link rel="prefetch" href="/Grimoire/assets/js/242.57e9c0d2.js"><link rel="prefetch" href="/Grimoire/assets/js/243.ff6aa233.js"><link rel="prefetch" href="/Grimoire/assets/js/244.7a143719.js"><link rel="prefetch" href="/Grimoire/assets/js/245.c936beab.js"><link rel="prefetch" href="/Grimoire/assets/js/246.cafe60bb.js"><link rel="prefetch" href="/Grimoire/assets/js/247.ae0cb40d.js"><link rel="prefetch" href="/Grimoire/assets/js/248.0d6e2776.js"><link rel="prefetch" href="/Grimoire/assets/js/249.603d0e9d.js"><link rel="prefetch" href="/Grimoire/assets/js/25.b698ad53.js"><link rel="prefetch" href="/Grimoire/assets/js/250.5d042f51.js"><link rel="prefetch" href="/Grimoire/assets/js/251.a0530b3b.js"><link rel="prefetch" href="/Grimoire/assets/js/252.b022735b.js"><link rel="prefetch" href="/Grimoire/assets/js/253.78fa1402.js"><link rel="prefetch" href="/Grimoire/assets/js/254.947c219c.js"><link rel="prefetch" href="/Grimoire/assets/js/255.7b4d2e08.js"><link rel="prefetch" href="/Grimoire/assets/js/256.85a46988.js"><link rel="prefetch" href="/Grimoire/assets/js/257.1eadad44.js"><link rel="prefetch" href="/Grimoire/assets/js/258.9c2b49a5.js"><link rel="prefetch" href="/Grimoire/assets/js/259.d01514c9.js"><link rel="prefetch" href="/Grimoire/assets/js/26.f7e348be.js"><link rel="prefetch" href="/Grimoire/assets/js/260.db92975f.js"><link rel="prefetch" href="/Grimoire/assets/js/261.53f4f8ff.js"><link rel="prefetch" href="/Grimoire/assets/js/262.dc168695.js"><link rel="prefetch" href="/Grimoire/assets/js/263.28980c9d.js"><link rel="prefetch" href="/Grimoire/assets/js/264.25241bdb.js"><link rel="prefetch" href="/Grimoire/assets/js/265.dcb4ab7e.js"><link rel="prefetch" href="/Grimoire/assets/js/266.3f91d6f9.js"><link rel="prefetch" href="/Grimoire/assets/js/267.d113dee5.js"><link rel="prefetch" href="/Grimoire/assets/js/268.940d7a97.js"><link rel="prefetch" href="/Grimoire/assets/js/27.4fd28b75.js"><link rel="prefetch" href="/Grimoire/assets/js/28.d763024c.js"><link rel="prefetch" href="/Grimoire/assets/js/29.6d499c6e.js"><link rel="prefetch" href="/Grimoire/assets/js/3.2fef6794.js"><link rel="prefetch" href="/Grimoire/assets/js/30.564176b2.js"><link rel="prefetch" href="/Grimoire/assets/js/31.53f8fa9b.js"><link rel="prefetch" href="/Grimoire/assets/js/32.b3ab7bd8.js"><link rel="prefetch" href="/Grimoire/assets/js/33.70185bf4.js"><link rel="prefetch" href="/Grimoire/assets/js/34.f66f325c.js"><link rel="prefetch" href="/Grimoire/assets/js/35.bb65448f.js"><link rel="prefetch" href="/Grimoire/assets/js/36.75171888.js"><link rel="prefetch" href="/Grimoire/assets/js/37.5bc7b4d6.js"><link rel="prefetch" href="/Grimoire/assets/js/38.4f58ddc3.js"><link rel="prefetch" href="/Grimoire/assets/js/39.bde6baf4.js"><link rel="prefetch" href="/Grimoire/assets/js/40.45c870ae.js"><link rel="prefetch" href="/Grimoire/assets/js/41.c03f9248.js"><link rel="prefetch" href="/Grimoire/assets/js/42.4ae4d169.js"><link rel="prefetch" href="/Grimoire/assets/js/43.ac495911.js"><link rel="prefetch" href="/Grimoire/assets/js/44.8728d33f.js"><link rel="prefetch" href="/Grimoire/assets/js/45.35e18222.js"><link rel="prefetch" href="/Grimoire/assets/js/46.d73d8e54.js"><link rel="prefetch" href="/Grimoire/assets/js/47.c32b6798.js"><link rel="prefetch" href="/Grimoire/assets/js/48.bc1343c8.js"><link rel="prefetch" href="/Grimoire/assets/js/49.f18af0ec.js"><link rel="prefetch" href="/Grimoire/assets/js/5.fc1e3e56.js"><link rel="prefetch" href="/Grimoire/assets/js/50.17852f7b.js"><link rel="prefetch" href="/Grimoire/assets/js/51.89146969.js"><link rel="prefetch" href="/Grimoire/assets/js/52.1276c1ae.js"><link rel="prefetch" href="/Grimoire/assets/js/53.543f8eaa.js"><link rel="prefetch" href="/Grimoire/assets/js/54.45b03c92.js"><link rel="prefetch" href="/Grimoire/assets/js/55.62fb3f24.js"><link rel="prefetch" href="/Grimoire/assets/js/56.4c9e26f1.js"><link rel="prefetch" href="/Grimoire/assets/js/57.7fde3c0b.js"><link rel="prefetch" href="/Grimoire/assets/js/58.bcfd8c9d.js"><link rel="prefetch" href="/Grimoire/assets/js/59.cd8d94c0.js"><link rel="prefetch" href="/Grimoire/assets/js/6.cf2a21ea.js"><link rel="prefetch" href="/Grimoire/assets/js/60.a5d874de.js"><link rel="prefetch" href="/Grimoire/assets/js/61.38d400dd.js"><link rel="prefetch" href="/Grimoire/assets/js/62.8a8be4b4.js"><link rel="prefetch" href="/Grimoire/assets/js/63.9826e058.js"><link rel="prefetch" href="/Grimoire/assets/js/64.98c9ed22.js"><link rel="prefetch" href="/Grimoire/assets/js/65.01526027.js"><link rel="prefetch" href="/Grimoire/assets/js/66.b76f4de5.js"><link rel="prefetch" href="/Grimoire/assets/js/67.d5e5c496.js"><link rel="prefetch" href="/Grimoire/assets/js/68.1a7b5dc0.js"><link rel="prefetch" href="/Grimoire/assets/js/69.714d4da6.js"><link rel="prefetch" href="/Grimoire/assets/js/7.16f42890.js"><link rel="prefetch" href="/Grimoire/assets/js/70.3eb86bce.js"><link rel="prefetch" href="/Grimoire/assets/js/71.001fbb18.js"><link rel="prefetch" href="/Grimoire/assets/js/72.440f27ca.js"><link rel="prefetch" href="/Grimoire/assets/js/73.5ffe2e0b.js"><link rel="prefetch" href="/Grimoire/assets/js/74.26b604e2.js"><link rel="prefetch" href="/Grimoire/assets/js/75.11aa2423.js"><link rel="prefetch" href="/Grimoire/assets/js/76.7907ffc6.js"><link rel="prefetch" href="/Grimoire/assets/js/77.2edb798c.js"><link rel="prefetch" href="/Grimoire/assets/js/78.ac77e79a.js"><link rel="prefetch" href="/Grimoire/assets/js/79.7c6977d4.js"><link rel="prefetch" href="/Grimoire/assets/js/8.e6ca58cf.js"><link rel="prefetch" href="/Grimoire/assets/js/80.16336976.js"><link rel="prefetch" href="/Grimoire/assets/js/81.dc27d0c5.js"><link rel="prefetch" href="/Grimoire/assets/js/82.fdef8ad1.js"><link rel="prefetch" href="/Grimoire/assets/js/83.5ff25c01.js"><link rel="prefetch" href="/Grimoire/assets/js/84.7225a95e.js"><link rel="prefetch" href="/Grimoire/assets/js/85.17fa96f9.js"><link rel="prefetch" href="/Grimoire/assets/js/86.5825439b.js"><link rel="prefetch" href="/Grimoire/assets/js/87.692ee16f.js"><link rel="prefetch" href="/Grimoire/assets/js/88.e035d1a0.js"><link rel="prefetch" href="/Grimoire/assets/js/89.1c7f926f.js"><link rel="prefetch" href="/Grimoire/assets/js/9.b088b6b5.js"><link rel="prefetch" href="/Grimoire/assets/js/90.d33aceb3.js"><link rel="prefetch" href="/Grimoire/assets/js/91.edecc97d.js"><link rel="prefetch" href="/Grimoire/assets/js/92.5f6dc8c7.js"><link rel="prefetch" href="/Grimoire/assets/js/93.feebc904.js"><link rel="prefetch" href="/Grimoire/assets/js/94.8da6a009.js"><link rel="prefetch" href="/Grimoire/assets/js/95.0ce192fb.js"><link rel="prefetch" href="/Grimoire/assets/js/96.d72b9fe7.js"><link rel="prefetch" href="/Grimoire/assets/js/97.b1326fe7.js"><link rel="prefetch" href="/Grimoire/assets/js/98.7b0654b9.js"><link rel="prefetch" href="/Grimoire/assets/js/99.201e2fad.js">
    <link rel="stylesheet" href="/Grimoire/assets/css/0.styles.95ca9682.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Grimoire/" class="home-link router-link-active"><!----> <span class="site-name">Grimoire</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Grimoire/annals/" class="nav-link">
  编年史
</a></div><div class="nav-item"><a href="/Grimoire/summary/" class="nav-link">
  总结
</a></div><div class="nav-item"><a href="/Grimoire/lint/" class="nav-link">
  代码规范
</a></div><div class="nav-item"><a href="/Grimoire/git/" class="nav-link">
  Git
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Grimoire/js/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/Grimoire/css/" class="nav-link">
  Css
</a></li><li class="dropdown-item"><!----> <a href="/Grimoire/explorer/" class="nav-link">
  浏览器
</a></li><li class="dropdown-item"><!----> <a href="/Grimoire/engineering/" class="nav-link router-link-active">
  工程化
</a></li><li class="dropdown-item"><!----> <a href="/Grimoire/visual/" class="nav-link">
  可视化
</a></li><li class="dropdown-item"><h4>
          框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Grimoire/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-subitem"><a href="/Grimoire/react/" class="nav-link">
  React
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/Grimoire/network/" class="nav-link">
  网络
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法" class="dropdown-title"><span class="title">算法</span> <span class="arrow down"></span></button> <button type="button" aria-label="算法" class="mobile-dropdown-title"><span class="title">算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Grimoire/leetcode/" class="nav-link">
  leetcode
</a></li><li class="dropdown-item"><!----> <a href="/Grimoire/find/" class="nav-link">
  查找
</a></li><li class="dropdown-item"><!----> <a href="/Grimoire/sort/" class="nav-link">
  排序
</a></li><li class="dropdown-item"><!----> <a href="/Grimoire/graph/" class="nav-link">
  图
</a></li><li class="dropdown-item"><!----> <a href="/Grimoire/tree/" class="nav-link">
  树
</a></li><li class="dropdown-item"><!----> <a href="/Grimoire/string/" class="nav-link">
  字符串
</a></li><li class="dropdown-item"><!----> <a href="/Grimoire/linkedlist/" class="nav-link">
  链表
</a></li><li class="dropdown-item"><!----> <a href="/Grimoire/gis/" class="nav-link">
  GIS
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Grimoire/annals/" class="nav-link">
  编年史
</a></div><div class="nav-item"><a href="/Grimoire/summary/" class="nav-link">
  总结
</a></div><div class="nav-item"><a href="/Grimoire/lint/" class="nav-link">
  代码规范
</a></div><div class="nav-item"><a href="/Grimoire/git/" class="nav-link">
  Git
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Grimoire/js/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/Grimoire/css/" class="nav-link">
  Css
</a></li><li class="dropdown-item"><!----> <a href="/Grimoire/explorer/" class="nav-link">
  浏览器
</a></li><li class="dropdown-item"><!----> <a href="/Grimoire/engineering/" class="nav-link router-link-active">
  工程化
</a></li><li class="dropdown-item"><!----> <a href="/Grimoire/visual/" class="nav-link">
  可视化
</a></li><li class="dropdown-item"><h4>
          框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Grimoire/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-subitem"><a href="/Grimoire/react/" class="nav-link">
  React
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/Grimoire/network/" class="nav-link">
  网络
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法" class="dropdown-title"><span class="title">算法</span> <span class="arrow down"></span></button> <button type="button" aria-label="算法" class="mobile-dropdown-title"><span class="title">算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Grimoire/leetcode/" class="nav-link">
  leetcode
</a></li><li class="dropdown-item"><!----> <a href="/Grimoire/find/" class="nav-link">
  查找
</a></li><li class="dropdown-item"><!----> <a href="/Grimoire/sort/" class="nav-link">
  排序
</a></li><li class="dropdown-item"><!----> <a href="/Grimoire/graph/" class="nav-link">
  图
</a></li><li class="dropdown-item"><!----> <a href="/Grimoire/tree/" class="nav-link">
  树
</a></li><li class="dropdown-item"><!----> <a href="/Grimoire/string/" class="nav-link">
  字符串
</a></li><li class="dropdown-item"><!----> <a href="/Grimoire/linkedlist/" class="nav-link">
  链表
</a></li><li class="dropdown-item"><!----> <a href="/Grimoire/gis/" class="nav-link">
  GIS
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Grimoire/engineering/" aria-current="page" class="sidebar-link">工程化</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>基础/原理</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>应用</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Grimoire/engineering/automodule.html" class="sidebar-link">自动化导入模块</a></li><li><a href="/Grimoire/engineering/download.html" class="sidebar-link">前端下载</a></li><li><a href="/Grimoire/engineering/eventemitter.html" class="sidebar-link">EventEmitter 封装</a></li><li><a href="/Grimoire/engineering/encode.html" class="sidebar-link">前端编码</a></li><li><a href="/Grimoire/engineering/databind.html" class="sidebar-link">双向绑定</a></li><li><a href="/Grimoire/engineering/debounce.html" class="sidebar-link">防抖和节流</a></li><li><a href="/Grimoire/engineering/observer.html" class="sidebar-link">观察者和发布订阅模式</a></li><li><a href="/Grimoire/engineering/route.html" class="sidebar-link">前端路由</a></li><li><a href="/Grimoire/engineering/upload.html" class="sidebar-link">前端上传</a></li><li><a href="/Grimoire/engineering/vdrag.html" aria-current="page" class="active sidebar-link">可视化拖拽组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Grimoire/engineering/vdrag.html#业务痛点" class="sidebar-link">业务痛点</a></li><li class="sidebar-sub-header"><a href="/Grimoire/engineering/vdrag.html#要点" class="sidebar-link">要点</a></li><li class="sidebar-sub-header"><a href="/Grimoire/engineering/vdrag.html#布局" class="sidebar-link">布局</a></li><li class="sidebar-sub-header"><a href="/Grimoire/engineering/vdrag.html#拖拽" class="sidebar-link">拖拽</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Grimoire/engineering/vdrag.html#从组件列表到画布" class="sidebar-link">从组件列表到画布</a></li><li class="sidebar-sub-header"><a href="/Grimoire/engineering/vdrag.html#组件在画布中移动" class="sidebar-link">组件在画布中移动</a></li></ul></li><li class="sidebar-sub-header"><a href="/Grimoire/engineering/vdrag.html#删除组件-调整图层" class="sidebar-link">删除组件，调整图层</a></li><li class="sidebar-sub-header"><a href="/Grimoire/engineering/vdrag.html#放大缩小" class="sidebar-link">放大缩小</a></li><li class="sidebar-sub-header"><a href="/Grimoire/engineering/vdrag.html#撤销-重做" class="sidebar-link">撤销 重做</a></li><li class="sidebar-sub-header"><a href="/Grimoire/engineering/vdrag.html#吸附-对齐" class="sidebar-link">吸附 对齐</a></li><li class="sidebar-sub-header"><a href="/Grimoire/engineering/vdrag.html#属性设置" class="sidebar-link">属性设置</a></li><li class="sidebar-sub-header"><a href="/Grimoire/engineering/vdrag.html#预览-保存" class="sidebar-link">预览 保存</a></li><li class="sidebar-sub-header"><a href="/Grimoire/engineering/vdrag.html#绑定事件-动画" class="sidebar-link">绑定事件 动画</a></li><li class="sidebar-sub-header"><a href="/Grimoire/engineering/vdrag.html#数据请求" class="sidebar-link">数据请求</a></li><li class="sidebar-sub-header"><a href="/Grimoire/engineering/vdrag.html#组合-拆分" class="sidebar-link">组合 拆分</a></li></ul></li><li><a href="/Grimoire/engineering/loader_plugin.html" class="sidebar-link">实现 webpack loader&amp;plugin</a></li><li><a href="/Grimoire/engineering/preview.html" class="sidebar-link">前端文件预览</a></li><li><a href="/Grimoire/engineering/monitor.html" class="sidebar-link">前端监控</a></li><li><a href="/Grimoire/engineering/webpack_build.html" class="sidebar-link">webpack 打包优化</a></li><li><a href="/Grimoire/engineering/router_lazy.html" class="sidebar-link">路由懒加载</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>性能优化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>工具</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="可视化拖拽组件"><a href="#可视化拖拽组件" class="header-anchor">#</a> 可视化拖拽组件</h1> <p>基于 <code>vue</code></p> <h2 id="业务痛点"><a href="#业务痛点" class="header-anchor">#</a> 业务痛点</h2> <ul><li>固定类型的气象数据展示页面重复开发 （活动页面重复开发）</li> <li>需求改变频繁</li> <li>开发时间短</li> <li>开发人力不足</li> <li>开发工作零碎 维护成本高</li> <li>开发流程涉及产品/运营 沟通成本高</li></ul> <p>解决：</p> <ul><li>组件复用</li> <li>拖拽生成</li> <li>配置修改</li></ul> <p>类似游戏引擎</p> <h2 id="要点"><a href="#要点" class="header-anchor">#</a> 要点</h2> <ul><li>组件化
<ul><li>动态组件 根据组件信息生成对应类型组件</li></ul></li> <li>dashboard 画布
<ul><li>数组保存每个组件</li> <li>拖拽 缩放 删除 图层 放大缩小 吸附 标线 配置</li> <li>配置表单 JSON Schema</li></ul></li> <li>组件交互
<ul><li>eventbus 发布订阅</li> <li>固定类型 固定事件</li> <li>初始化时绑定</li></ul></li> <li>组件数据
<ul><li>配置请求 api</li></ul></li> <li>页面预览
<ul><li>修改页面状态 读取缓存页面数据</li> <li>页面挂载
<ul><li>实时渲染快</li> <li>可能污染编辑器页面</li></ul></li></ul></li> <li>后台渲染</li> <li>页面分享
<ul><li>页面数据保存 得到数据 ID 根据 id 生成分享页面</li></ul></li> <li>实时数据更新
<ul><li>websocket 对应 id 请求</li></ul></li></ul> <h2 id="布局"><a href="#布局" class="header-anchor">#</a> 布局</h2> <p>整体页面布局：</p> <ul><li>工具栏：快捷操作</li> <li>组件列表：可以生成的组件</li> <li>画布：dashboard 用来放置组件</li> <li>属性编辑区域：修改组件属性</li></ul> <img src="/Grimoire/eng_vdrag_1.png" alt="布局"> <p>思路：</p> <ol><li>用一个数组 <code>componentData</code> 维护画布上的组件数据</li> <li>拖拽组件到画布上，使用 <code>push</code> 将组件的数据加入到 <code>componentData</code></li> <li>使用动态组件和 <code>v-for</code> 来把 <code>componentData</code> 中到组件渲染上去</li></ol> <p>动态组件：</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span>
  <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item in componentData<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.id<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.component<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.style<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:propValue</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.propValue<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><code>componentData</code>:</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;component&quot;</span><span class="token operator">:</span> <span class="token string">&quot;v-text&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 组件名称，需要提前注册到 Vue</span>
  <span class="token property">&quot;label&quot;</span><span class="token operator">:</span> <span class="token string">&quot;文字&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 左侧组件列表中显示的名字</span>
  <span class="token property">&quot;propValue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;文字&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 组件所使用的值</span>
  <span class="token property">&quot;icon&quot;</span><span class="token operator">:</span> <span class="token string">&quot;el-icon-edit&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 左侧组件列表中显示的名字</span>
  <span class="token property">&quot;animations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 动画列表</span>
  <span class="token property">&quot;events&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 事件列表</span>
  <span class="token property">&quot;style&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 组件样式</span>
    <span class="token property">&quot;width&quot;</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
    <span class="token property">&quot;height&quot;</span><span class="token operator">:</span> <span class="token number">33</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fontSize&quot;</span><span class="token operator">:</span> <span class="token number">14</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fontWeight&quot;</span><span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">,</span>
    <span class="token property">&quot;lineHeight&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;letterSpacing&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;textAlign&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;color&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="拖拽"><a href="#拖拽" class="header-anchor">#</a> 拖拽</h2> <h3 id="从组件列表到画布"><a href="#从组件列表到画布" class="header-anchor">#</a> 从组件列表到画布</h3> <p>思路：</p> <ol><li><code>dragstart</code> 开始拖拽将组件信息缓存</li> <li><code>drop</code> 拖拽结束将缓存信息加入到 <code>componentData</code></li></ol> <p>触发 <code>drop</code> 事件时，使用 <code>dataTransfer.getData()</code> 接收传输过来的索引数据，然后根据索引找到对应的组件数据，再添加到画布，从而渲染组件。</p> <h3 id="组件在画布中移动"><a href="#组件在画布中移动" class="header-anchor">#</a> 组件在画布中移动</h3> <p>首先需要将画布设为相对定位 <code>position: relative</code>，然后将每个组件设为绝对定位 <code>position: absolute</code>。除了这一点外，还要通过监听三个事件来进行移动：</p> <ol><li><code>mousedown</code> 事件，在组件上按下鼠标时，记录组件当前的位置，即 <code>xy</code> 坐标</li> <li><code>mousemove</code> 事件，每次鼠标移动时，都用当前最新的 <code>xy</code> 坐标减去最开始的 <code>xy</code> 坐标，从而计算出移动距离，再改变组件位置</li> <li><code>mouseup</code> 事件，鼠标抬起时结束移动。</li></ol> <div class="demo-block demo-en-US demo-vdrag.html" data-v-47d1da0a><div class="demo-content" data-v-47d1da0a><div><div class="content-wrap"><div class="component-list"><div draggable="true" data-index="0" class="list"><span>文本1</span></div><div draggable="true" data-index="1" class="list"><span>文本2</span></div><div draggable="true" data-index="2" class="list"><span>文本3</span></div></div> <div class="content"></div></div></div></div> <div class="meta" data-v-47d1da0a><!----> <div class="code-content" data-v-47d1da0a><div class="language-html line-numbers-mode" data-v-47d1da0a><pre class="language-html" data-v-47d1da0a><code data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>template</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
  <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>div</span> <span class="token attr-name" data-v-47d1da0a>class</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>content-wrap<span class="token punctuation" data-v-47d1da0a>&quot;</span></span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
    <span class="token comment" data-v-47d1da0a>&lt;!-- 组件列表 --&gt;</span>
    <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>div</span> <span class="token attr-name" data-v-47d1da0a>@dragstart</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>handleDragStart<span class="token punctuation" data-v-47d1da0a>&quot;</span></span> <span class="token attr-name" data-v-47d1da0a>class</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>component-list<span class="token punctuation" data-v-47d1da0a>&quot;</span></span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
      <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>div</span>
        <span class="token attr-name" data-v-47d1da0a>v-for</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>(item, index) in componentList<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
        <span class="token attr-name" data-v-47d1da0a>:key</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>index<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
        <span class="token attr-name" data-v-47d1da0a>class</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>list<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
        <span class="token attr-name" data-v-47d1da0a>draggable</span>
        <span class="token attr-name" data-v-47d1da0a>:data-index</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>index<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
      <span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
        <span class="token comment" data-v-47d1da0a>&lt;!-- 自定义组件 --&gt;</span>
        <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>span</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>{{ item.label }}<span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>span</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
      <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>div</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
    <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>div</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
    <span class="token comment" data-v-47d1da0a>&lt;!-- 画板 --&gt;</span>
    <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>div</span>
      <span class="token attr-name" data-v-47d1da0a>class</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>content<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
      <span class="token attr-name" data-v-47d1da0a>@drop</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>handleDrop<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
      <span class="token attr-name" data-v-47d1da0a>@dragover</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>handleDragOver<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
      <span class="token attr-name" data-v-47d1da0a>@mousedown</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>handleMouseDown<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
      <span class="token attr-name" data-v-47d1da0a>ref</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>content<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
    <span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
      <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>div</span>
        <span class="token attr-name" data-v-47d1da0a>v-for</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>(item, index) in componentData<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
        <span class="token attr-name" data-v-47d1da0a>:key</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>index<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
        <span class="token attr-name" data-v-47d1da0a>class</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>list<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
        <span class="token attr-name" data-v-47d1da0a>:data-index</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>index<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
        <span class="token attr-name" data-v-47d1da0a>:style</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>item.style<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
      <span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
        <span class="token comment" data-v-47d1da0a>&lt;!-- 自定义组件 --&gt;</span>
        <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>span</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>{{ item.label }}<span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>span</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
      <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>div</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
    <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>div</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
  <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>div</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
<span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>template</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>

<span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>script</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span><span class="token script" data-v-47d1da0a><span class="token language-javascript" data-v-47d1da0a>
  <span class="token keyword" data-v-47d1da0a>export</span> <span class="token keyword" data-v-47d1da0a>default</span> <span class="token punctuation" data-v-47d1da0a>{</span>
    <span class="token function" data-v-47d1da0a>data</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token punctuation" data-v-47d1da0a>{</span>
      <span class="token keyword" data-v-47d1da0a>return</span> <span class="token punctuation" data-v-47d1da0a>{</span>
        componentList<span class="token operator" data-v-47d1da0a>:</span> <span class="token punctuation" data-v-47d1da0a>[</span>
          <span class="token punctuation" data-v-47d1da0a>{</span>
            label<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;文本1&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
          <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
          <span class="token punctuation" data-v-47d1da0a>{</span>
            label<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;文本2&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
          <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
          <span class="token punctuation" data-v-47d1da0a>{</span>
            label<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;文本3&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
          <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
        <span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>,</span>
        componentData<span class="token operator" data-v-47d1da0a>:</span> <span class="token punctuation" data-v-47d1da0a>[</span><span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>,</span>
        operation<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
      <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>;</span>
    <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
    methods<span class="token operator" data-v-47d1da0a>:</span> <span class="token punctuation" data-v-47d1da0a>{</span>
      <span class="token function" data-v-47d1da0a>handleDragStart</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token parameter" data-v-47d1da0a>e</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token punctuation" data-v-47d1da0a>{</span>
        e<span class="token punctuation" data-v-47d1da0a>.</span>dataTransfer<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>setData</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;index&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> e<span class="token punctuation" data-v-47d1da0a>.</span>target<span class="token punctuation" data-v-47d1da0a>.</span>dataset<span class="token punctuation" data-v-47d1da0a>.</span>index<span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>operation <span class="token operator" data-v-47d1da0a>=</span> <span class="token string" data-v-47d1da0a>&quot;drag&quot;</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
      <span class="token function" data-v-47d1da0a>handleDrop</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token parameter" data-v-47d1da0a>e</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token punctuation" data-v-47d1da0a>{</span>
        e<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>preventDefault</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
        e<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>stopPropagation</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>

        <span class="token comment" data-v-47d1da0a>// 拖拽的组件</span>
        <span class="token keyword" data-v-47d1da0a>let</span> selected <span class="token operator" data-v-47d1da0a>=</span> <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>componentList<span class="token punctuation" data-v-47d1da0a>[</span>e<span class="token punctuation" data-v-47d1da0a>.</span>dataTransfer<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>getData</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;index&quot;</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token keyword" data-v-47d1da0a>if</span> <span class="token punctuation" data-v-47d1da0a>(</span><span class="token operator" data-v-47d1da0a>!</span>selected<span class="token punctuation" data-v-47d1da0a>)</span> <span class="token keyword" data-v-47d1da0a>return</span> <span class="token boolean" data-v-47d1da0a>false</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token keyword" data-v-47d1da0a>const</span> component <span class="token operator" data-v-47d1da0a>=</span> <span class="token constant" data-v-47d1da0a>JSON</span><span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>parse</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token constant" data-v-47d1da0a>JSON</span><span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>stringify</span><span class="token punctuation" data-v-47d1da0a>(</span>selected<span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
        component<span class="token punctuation" data-v-47d1da0a>.</span>style <span class="token operator" data-v-47d1da0a>=</span> <span class="token punctuation" data-v-47d1da0a>{</span>
          top<span class="token operator" data-v-47d1da0a>:</span> e<span class="token punctuation" data-v-47d1da0a>.</span>offsetY <span class="token operator" data-v-47d1da0a>+</span> <span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
          left<span class="token operator" data-v-47d1da0a>:</span> e<span class="token punctuation" data-v-47d1da0a>.</span>offsetX <span class="token operator" data-v-47d1da0a>+</span> <span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
        <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token keyword" data-v-47d1da0a>const</span> tmp <span class="token operator" data-v-47d1da0a>=</span> <span class="token punctuation" data-v-47d1da0a>[</span><span class="token operator" data-v-47d1da0a>...</span><span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>componentData<span class="token punctuation" data-v-47d1da0a>,</span> component<span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token comment" data-v-47d1da0a>// 把组件信息加入到画布组件信息队列中</span>
        <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>$set</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;componentData&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> tmp<span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
      <span class="token function" data-v-47d1da0a>handleDragOver</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token parameter" data-v-47d1da0a>e</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token punctuation" data-v-47d1da0a>{</span>
        <span class="token comment" data-v-47d1da0a>// 需要这样设置才能触发 drop</span>
        <span class="token comment" data-v-47d1da0a>// 1. 屏蔽默认事件</span>
        <span class="token comment" data-v-47d1da0a>// 2. 设置 dropEffect = copy</span>
        e<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>preventDefault</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token keyword" data-v-47d1da0a>if</span> <span class="token punctuation" data-v-47d1da0a>(</span><span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>operation <span class="token operator" data-v-47d1da0a>===</span> <span class="token string" data-v-47d1da0a>&quot;drag&quot;</span><span class="token punctuation" data-v-47d1da0a>)</span> e<span class="token punctuation" data-v-47d1da0a>.</span>dataTransfer<span class="token punctuation" data-v-47d1da0a>.</span>dropEffect <span class="token operator" data-v-47d1da0a>=</span> <span class="token string" data-v-47d1da0a>&quot;copy&quot;</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token keyword" data-v-47d1da0a>if</span> <span class="token punctuation" data-v-47d1da0a>(</span><span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>operation <span class="token operator" data-v-47d1da0a>===</span> <span class="token string" data-v-47d1da0a>&quot;move&quot;</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token punctuation" data-v-47d1da0a>{</span>
          <span class="token keyword" data-v-47d1da0a>return</span> <span class="token boolean" data-v-47d1da0a>false</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token punctuation" data-v-47d1da0a>}</span>
      <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
      <span class="token function" data-v-47d1da0a>handleMouseDown</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token parameter" data-v-47d1da0a>e</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token punctuation" data-v-47d1da0a>{</span>
        e<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>stopPropagation</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>operation <span class="token operator" data-v-47d1da0a>=</span> <span class="token string" data-v-47d1da0a>&quot;move&quot;</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token comment" data-v-47d1da0a>// 移动选中的组件</span>
        <span class="token keyword" data-v-47d1da0a>let</span> selected <span class="token operator" data-v-47d1da0a>=</span> <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>componentData<span class="token punctuation" data-v-47d1da0a>[</span>e<span class="token punctuation" data-v-47d1da0a>.</span>target<span class="token punctuation" data-v-47d1da0a>.</span>parentNode<span class="token punctuation" data-v-47d1da0a>.</span>dataset<span class="token punctuation" data-v-47d1da0a>.</span>index<span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token keyword" data-v-47d1da0a>if</span> <span class="token punctuation" data-v-47d1da0a>(</span><span class="token operator" data-v-47d1da0a>!</span>selected<span class="token punctuation" data-v-47d1da0a>)</span> <span class="token keyword" data-v-47d1da0a>return</span> <span class="token boolean" data-v-47d1da0a>false</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token keyword" data-v-47d1da0a>const</span> component <span class="token operator" data-v-47d1da0a>=</span> <span class="token constant" data-v-47d1da0a>JSON</span><span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>parse</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token constant" data-v-47d1da0a>JSON</span><span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>stringify</span><span class="token punctuation" data-v-47d1da0a>(</span>selected<span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token keyword" data-v-47d1da0a>const</span> pos <span class="token operator" data-v-47d1da0a>=</span> component<span class="token punctuation" data-v-47d1da0a>.</span>style<span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token keyword" data-v-47d1da0a>const</span> startY <span class="token operator" data-v-47d1da0a>=</span> e<span class="token punctuation" data-v-47d1da0a>.</span>clientY<span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token keyword" data-v-47d1da0a>const</span> startX <span class="token operator" data-v-47d1da0a>=</span> e<span class="token punctuation" data-v-47d1da0a>.</span>clientX<span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token keyword" data-v-47d1da0a>const</span> startTop <span class="token operator" data-v-47d1da0a>=</span> <span class="token function" data-v-47d1da0a>Number</span><span class="token punctuation" data-v-47d1da0a>(</span>pos<span class="token punctuation" data-v-47d1da0a>.</span>top<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>replace</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;&quot;</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token keyword" data-v-47d1da0a>const</span> startLeft <span class="token operator" data-v-47d1da0a>=</span> <span class="token function" data-v-47d1da0a>Number</span><span class="token punctuation" data-v-47d1da0a>(</span>pos<span class="token punctuation" data-v-47d1da0a>.</span>left<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>replace</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;&quot;</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>

        <span class="token comment" data-v-47d1da0a>// mousemove 修改位置</span>
        <span class="token keyword" data-v-47d1da0a>const</span> <span class="token function-variable function" data-v-47d1da0a>move</span> <span class="token operator" data-v-47d1da0a>=</span> <span class="token punctuation" data-v-47d1da0a>(</span><span class="token parameter" data-v-47d1da0a>moveEvent</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token operator" data-v-47d1da0a>=&gt;</span> <span class="token punctuation" data-v-47d1da0a>{</span>
          <span class="token keyword" data-v-47d1da0a>const</span> currX <span class="token operator" data-v-47d1da0a>=</span> moveEvent<span class="token punctuation" data-v-47d1da0a>.</span>clientX<span class="token punctuation" data-v-47d1da0a>;</span>
          <span class="token keyword" data-v-47d1da0a>const</span> currY <span class="token operator" data-v-47d1da0a>=</span> moveEvent<span class="token punctuation" data-v-47d1da0a>.</span>clientY<span class="token punctuation" data-v-47d1da0a>;</span>
          pos<span class="token punctuation" data-v-47d1da0a>.</span>top <span class="token operator" data-v-47d1da0a>=</span> currY <span class="token operator" data-v-47d1da0a>-</span> startY <span class="token operator" data-v-47d1da0a>+</span> startTop<span class="token punctuation" data-v-47d1da0a>;</span>
          pos<span class="token punctuation" data-v-47d1da0a>.</span>left <span class="token operator" data-v-47d1da0a>=</span> currX <span class="token operator" data-v-47d1da0a>-</span> startX <span class="token operator" data-v-47d1da0a>+</span> startLeft<span class="token punctuation" data-v-47d1da0a>;</span>
          <span class="token comment" data-v-47d1da0a>// 修改当前组件样式</span>
          selected<span class="token punctuation" data-v-47d1da0a>.</span>style <span class="token operator" data-v-47d1da0a>=</span> <span class="token punctuation" data-v-47d1da0a>{</span>
            top<span class="token operator" data-v-47d1da0a>:</span> pos<span class="token punctuation" data-v-47d1da0a>.</span>top <span class="token operator" data-v-47d1da0a>+</span> <span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            left<span class="token operator" data-v-47d1da0a>:</span> pos<span class="token punctuation" data-v-47d1da0a>.</span>left <span class="token operator" data-v-47d1da0a>+</span> <span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
          <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>;</span>

        <span class="token comment" data-v-47d1da0a>// mouseup 解除事件绑定</span>
        <span class="token keyword" data-v-47d1da0a>const</span> <span class="token function-variable function" data-v-47d1da0a>up</span> <span class="token operator" data-v-47d1da0a>=</span> <span class="token punctuation" data-v-47d1da0a>(</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token operator" data-v-47d1da0a>=&gt;</span> <span class="token punctuation" data-v-47d1da0a>{</span>
          document<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>removeEventListener</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;mousemove&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> move<span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
          document<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>removeEventListener</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;mouseup&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> up<span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>;</span>

        document<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>addEventListener</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;mousemove&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> move<span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
        document<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>addEventListener</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;mouseup&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> up<span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
    <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
  <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>;</span>
</span></span><span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>script</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>

<span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>style</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span><span class="token style" data-v-47d1da0a><span class="token language-css" data-v-47d1da0a>
  <span class="token selector" data-v-47d1da0a>.content-wrap</span> <span class="token punctuation" data-v-47d1da0a>{</span>
    <span class="token property" data-v-47d1da0a>display</span><span class="token punctuation" data-v-47d1da0a>:</span> flex<span class="token punctuation" data-v-47d1da0a>;</span>
    <span class="token property" data-v-47d1da0a>flex-direction</span><span class="token punctuation" data-v-47d1da0a>:</span> row<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token punctuation" data-v-47d1da0a>}</span>
  <span class="token selector" data-v-47d1da0a>.component-list</span> <span class="token punctuation" data-v-47d1da0a>{</span>
    <span class="token property" data-v-47d1da0a>display</span><span class="token punctuation" data-v-47d1da0a>:</span> flex<span class="token punctuation" data-v-47d1da0a>;</span>
    <span class="token property" data-v-47d1da0a>flex-wrap</span><span class="token punctuation" data-v-47d1da0a>:</span> wrap<span class="token punctuation" data-v-47d1da0a>;</span>
    <span class="token property" data-v-47d1da0a>justify-content</span><span class="token punctuation" data-v-47d1da0a>:</span> space-between<span class="token punctuation" data-v-47d1da0a>;</span>
    <span class="token property" data-v-47d1da0a>padding</span><span class="token punctuation" data-v-47d1da0a>:</span> 10px<span class="token punctuation" data-v-47d1da0a>;</span>
    <span class="token property" data-v-47d1da0a>height</span><span class="token punctuation" data-v-47d1da0a>:</span> 200px<span class="token punctuation" data-v-47d1da0a>;</span>
    <span class="token property" data-v-47d1da0a>width</span><span class="token punctuation" data-v-47d1da0a>:</span> 100px<span class="token punctuation" data-v-47d1da0a>;</span>
    <span class="token property" data-v-47d1da0a>border</span><span class="token punctuation" data-v-47d1da0a>:</span> 1px solid lightblue<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token punctuation" data-v-47d1da0a>}</span>
  <span class="token selector" data-v-47d1da0a>.content</span> <span class="token punctuation" data-v-47d1da0a>{</span>
    <span class="token property" data-v-47d1da0a>height</span><span class="token punctuation" data-v-47d1da0a>:</span> 200px<span class="token punctuation" data-v-47d1da0a>;</span>
    <span class="token property" data-v-47d1da0a>flex</span><span class="token punctuation" data-v-47d1da0a>:</span> 1<span class="token punctuation" data-v-47d1da0a>;</span>
    <span class="token property" data-v-47d1da0a>border</span><span class="token punctuation" data-v-47d1da0a>:</span> 1px solid lightblue<span class="token punctuation" data-v-47d1da0a>;</span>
    <span class="token property" data-v-47d1da0a>padding</span><span class="token punctuation" data-v-47d1da0a>:</span> 10px<span class="token punctuation" data-v-47d1da0a>;</span>
    <span class="token property" data-v-47d1da0a>margin-left</span><span class="token punctuation" data-v-47d1da0a>:</span> 10px<span class="token punctuation" data-v-47d1da0a>;</span>
    <span class="token property" data-v-47d1da0a>position</span><span class="token punctuation" data-v-47d1da0a>:</span> relative<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token punctuation" data-v-47d1da0a>}</span>
  <span class="token selector" data-v-47d1da0a>.list</span> <span class="token punctuation" data-v-47d1da0a>{</span>
    <span class="token property" data-v-47d1da0a>height</span><span class="token punctuation" data-v-47d1da0a>:</span> fit-content<span class="token punctuation" data-v-47d1da0a>;</span>
    <span class="token property" data-v-47d1da0a>width</span><span class="token punctuation" data-v-47d1da0a>:</span> fit-content<span class="token punctuation" data-v-47d1da0a>;</span>
    <span class="token property" data-v-47d1da0a>border</span><span class="token punctuation" data-v-47d1da0a>:</span> 1px solid grey<span class="token punctuation" data-v-47d1da0a>;</span>
    <span class="token property" data-v-47d1da0a>cursor</span><span class="token punctuation" data-v-47d1da0a>:</span> grab<span class="token punctuation" data-v-47d1da0a>;</span>
    <span class="token property" data-v-47d1da0a>margin-bottom</span><span class="token punctuation" data-v-47d1da0a>:</span> 10px<span class="token punctuation" data-v-47d1da0a>;</span>
    <span class="token property" data-v-47d1da0a>text-align</span><span class="token punctuation" data-v-47d1da0a>:</span> center<span class="token punctuation" data-v-47d1da0a>;</span>
    <span class="token property" data-v-47d1da0a>color</span><span class="token punctuation" data-v-47d1da0a>:</span> #333<span class="token punctuation" data-v-47d1da0a>;</span>
    <span class="token property" data-v-47d1da0a>padding</span><span class="token punctuation" data-v-47d1da0a>:</span> 2px 5px<span class="token punctuation" data-v-47d1da0a>;</span>
    <span class="token property" data-v-47d1da0a>display</span><span class="token punctuation" data-v-47d1da0a>:</span> flex<span class="token punctuation" data-v-47d1da0a>;</span>
    <span class="token property" data-v-47d1da0a>align-items</span><span class="token punctuation" data-v-47d1da0a>:</span> center<span class="token punctuation" data-v-47d1da0a>;</span>
    <span class="token property" data-v-47d1da0a>justify-content</span><span class="token punctuation" data-v-47d1da0a>:</span> center<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token punctuation" data-v-47d1da0a>}</span>

  <span class="token selector" data-v-47d1da0a>.content .list</span> <span class="token punctuation" data-v-47d1da0a>{</span>
    <span class="token property" data-v-47d1da0a>position</span><span class="token punctuation" data-v-47d1da0a>:</span> absolute<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token punctuation" data-v-47d1da0a>}</span>
</span></span><span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>style</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper" data-v-47d1da0a><span class="line-number" data-v-47d1da0a>1</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>2</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>3</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>4</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>5</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>6</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>7</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>8</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>9</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>10</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>11</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>12</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>13</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>14</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>15</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>16</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>17</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>18</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>19</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>20</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>21</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>22</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>23</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>24</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>25</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>26</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>27</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>28</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>29</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>30</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>31</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>32</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>33</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>34</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>35</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>36</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>37</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>38</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>39</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>40</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>41</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>42</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>43</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>44</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>45</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>46</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>47</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>48</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>49</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>50</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>51</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>52</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>53</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>54</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>55</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>56</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>57</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>58</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>59</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>60</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>61</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>62</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>63</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>64</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>65</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>66</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>67</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>68</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>69</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>70</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>71</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>72</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>73</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>74</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>75</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>76</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>77</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>78</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>79</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>80</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>81</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>82</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>83</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>84</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>85</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>86</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>87</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>88</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>89</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>90</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>91</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>92</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>93</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>94</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>95</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>96</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>97</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>98</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>99</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>100</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>101</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>102</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>103</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>104</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>105</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>106</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>107</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>108</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>109</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>110</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>111</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>112</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>113</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>114</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>115</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>116</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>117</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>118</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>119</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>120</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>121</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>122</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>123</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>124</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>125</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>126</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>127</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>128</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>129</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>130</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>131</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>132</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>133</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>134</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>135</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>136</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>137</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>138</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>139</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>140</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>141</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>142</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>143</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>144</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>145</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>146</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>147</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>148</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>149</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>150</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>151</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>152</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>153</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>154</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>155</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>156</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>157</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>158</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>159</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>160</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>161</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>162</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>163</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>164</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>165</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>166</span><br data-v-47d1da0a></div></div></div></div> <div class="demo-block-control" style="width:unset;" data-v-47d1da0a><i class="caret-bottom icon" data-v-47d1da0a data-v-47d1da0a></i> <span style="display:none;" data-v-47d1da0a data-v-47d1da0a>Expand</span> <span class="copy-action" style="display:;" data-v-47d1da0a>Copy</span> <span class="copy-action copy-action-success" style="display:none;" data-v-47d1da0a data-v-47d1da0a>Copy</span></div></div><h2 id="删除组件-调整图层"><a href="#删除组件-调整图层" class="header-anchor">#</a> 删除组件，调整图层</h2> <p>由于拖拽组件到画布中是有先后顺序的，所以可以按照数据顺序来分配图层层级。
例如画布新增了五个组件 <code>abcde</code>，那它们在画布数据中的顺序为 <code>[a, b, c, d, e]</code>，图层层级和索引一一对应，即它们的 <code>z-index</code> 属性值是 <code>01234</code>（后来居上）：</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(item, index) in componentData<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:zIndex</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>改变图层层级，即是改变组件数据在 <code>componentData</code> 数组中的顺序。例如有 <code>[a, b, c]</code> 三个组件，它们的图层层级从低到高顺序为 <code>abc</code>（索引越大，层级越高）。</p> <p>删除组件也是把组件信息从组件队列中删除：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>componentData<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="demo-block demo-en-US demo-vdrag.html" data-v-47d1da0a><div class="demo-content" data-v-47d1da0a><div><div class="content"><div data-index="0" class="list" style="top:0;left:0;background:lightblue;z-index:0;"><span>文本1</span></div><div data-index="1" class="list" style="top:20px;left:10px;background:lightgrey;z-index:1;"><span>文本2</span></div><div data-index="2" class="list" style="top:40px;left:20px;background:lightgreen;z-index:2;"><span>文本3</span></div> <div class="menu" style="display:none;"><div data-command="up">上移</div> <div data-command="down">下移</div> <div data-command="bottom">置底</div> <div data-command="top">置顶</div> <div data-command="delete">删除</div></div></div></div></div> <div class="meta" data-v-47d1da0a><!----> <div class="code-content" data-v-47d1da0a><div class="language-vue line-numbers-mode" data-v-47d1da0a><pre class="language-vue" data-v-47d1da0a><code data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>template</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
  <span class="token comment" data-v-47d1da0a>&lt;!-- 画板 --&gt;</span>
  <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>div</span>
    <span class="token attr-name" data-v-47d1da0a>class</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>content<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
    <span class="token attr-name" data-v-47d1da0a>@mousedown</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>handleMouseDown<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
    <span class="token attr-name" data-v-47d1da0a>ref</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>content<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
    <span class="token attr-name" data-v-47d1da0a>@click</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>showMenu = false<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
  <span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
    <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>div</span>
      <span class="token attr-name" data-v-47d1da0a>v-for</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>(item, index) in componentData<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
      <span class="token attr-name" data-v-47d1da0a>:key</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>index<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
      <span class="token attr-name" data-v-47d1da0a>class</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>list<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
      <span class="token attr-name" data-v-47d1da0a>:data-index</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>index<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
      <span class="token attr-name" data-v-47d1da0a>:style</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>Object.assign(item.style, { zIndex: index })<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
      <span class="token attr-name" data-v-47d1da0a>@contextmenu</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>handleMenu<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
    <span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
      <span class="token comment" data-v-47d1da0a>&lt;!-- 自定义组件 --&gt;</span>
      <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>span</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>{{ item.label }}<span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>span</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
    <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>div</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
    <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>div</span> <span class="token attr-name" data-v-47d1da0a>class</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>menu<span class="token punctuation" data-v-47d1da0a>&quot;</span></span> <span class="token attr-name" data-v-47d1da0a>v-show</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>showMenu<span class="token punctuation" data-v-47d1da0a>&quot;</span></span> <span class="token attr-name" data-v-47d1da0a>:style</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>menuPos<span class="token punctuation" data-v-47d1da0a>&quot;</span></span> <span class="token attr-name" data-v-47d1da0a>@click</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>handleCommand<span class="token punctuation" data-v-47d1da0a>&quot;</span></span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
      <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>div</span> <span class="token attr-name" data-v-47d1da0a>data-command</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>up<span class="token punctuation" data-v-47d1da0a>&quot;</span></span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>上移<span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>div</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
      <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>div</span> <span class="token attr-name" data-v-47d1da0a>data-command</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>down<span class="token punctuation" data-v-47d1da0a>&quot;</span></span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>下移<span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>div</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
      <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>div</span> <span class="token attr-name" data-v-47d1da0a>data-command</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>bottom<span class="token punctuation" data-v-47d1da0a>&quot;</span></span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>置底<span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>div</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
      <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>div</span> <span class="token attr-name" data-v-47d1da0a>data-command</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>top<span class="token punctuation" data-v-47d1da0a>&quot;</span></span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>置顶<span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>div</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
      <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>div</span> <span class="token attr-name" data-v-47d1da0a>data-command</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>delete<span class="token punctuation" data-v-47d1da0a>&quot;</span></span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>删除<span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>div</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
    <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>div</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
  <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>div</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
<span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>template</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>

<span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>script</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span><span class="token script" data-v-47d1da0a><span class="token language-javascript" data-v-47d1da0a>
<span class="token keyword" data-v-47d1da0a>export</span> <span class="token keyword" data-v-47d1da0a>default</span> <span class="token punctuation" data-v-47d1da0a>{</span>
  <span class="token function" data-v-47d1da0a>data</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token punctuation" data-v-47d1da0a>{</span>
    <span class="token keyword" data-v-47d1da0a>return</span> <span class="token punctuation" data-v-47d1da0a>{</span>
      componentData<span class="token operator" data-v-47d1da0a>:</span> <span class="token punctuation" data-v-47d1da0a>[</span>
        <span class="token punctuation" data-v-47d1da0a>{</span>
          style<span class="token operator" data-v-47d1da0a>:</span> <span class="token punctuation" data-v-47d1da0a>{</span>
            top<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;0&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            left<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;0&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            background<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;lightblue&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
          <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
          label<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;文本1&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
        <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
        <span class="token punctuation" data-v-47d1da0a>{</span>
          style<span class="token operator" data-v-47d1da0a>:</span> <span class="token punctuation" data-v-47d1da0a>{</span>
            top<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;20px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            left<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;10px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            background<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;lightgrey&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
          <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
          label<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;文本2&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
        <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
        <span class="token punctuation" data-v-47d1da0a>{</span>
          style<span class="token operator" data-v-47d1da0a>:</span> <span class="token punctuation" data-v-47d1da0a>{</span>
            top<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;40px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            left<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;20px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            background<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;lightgreen&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
          <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
          label<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;文本3&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
        <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
      <span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>,</span>
      showMenu<span class="token operator" data-v-47d1da0a>:</span> <span class="token boolean" data-v-47d1da0a>false</span><span class="token punctuation" data-v-47d1da0a>,</span>
      menuPos<span class="token operator" data-v-47d1da0a>:</span> <span class="token punctuation" data-v-47d1da0a>{</span><span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
      currentComponent<span class="token operator" data-v-47d1da0a>:</span> <span class="token keyword" data-v-47d1da0a>null</span><span class="token punctuation" data-v-47d1da0a>,</span>
    <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
  methods<span class="token operator" data-v-47d1da0a>:</span> <span class="token punctuation" data-v-47d1da0a>{</span>
    <span class="token function" data-v-47d1da0a>handleMouseDown</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token parameter" data-v-47d1da0a>e</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token punctuation" data-v-47d1da0a>{</span>
      e<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>stopPropagation</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>operation <span class="token operator" data-v-47d1da0a>=</span> <span class="token string" data-v-47d1da0a>&quot;move&quot;</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token comment" data-v-47d1da0a>// 移动选中的组件</span>
      <span class="token keyword" data-v-47d1da0a>let</span> selected <span class="token operator" data-v-47d1da0a>=</span> <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>componentData<span class="token punctuation" data-v-47d1da0a>[</span>e<span class="token punctuation" data-v-47d1da0a>.</span>target<span class="token punctuation" data-v-47d1da0a>.</span>parentNode<span class="token punctuation" data-v-47d1da0a>.</span>dataset<span class="token punctuation" data-v-47d1da0a>.</span>index<span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token keyword" data-v-47d1da0a>if</span> <span class="token punctuation" data-v-47d1da0a>(</span><span class="token operator" data-v-47d1da0a>!</span>selected<span class="token punctuation" data-v-47d1da0a>)</span> <span class="token keyword" data-v-47d1da0a>return</span> <span class="token boolean" data-v-47d1da0a>false</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token keyword" data-v-47d1da0a>const</span> component <span class="token operator" data-v-47d1da0a>=</span> <span class="token constant" data-v-47d1da0a>JSON</span><span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>parse</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token constant" data-v-47d1da0a>JSON</span><span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>stringify</span><span class="token punctuation" data-v-47d1da0a>(</span>selected<span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token keyword" data-v-47d1da0a>const</span> pos <span class="token operator" data-v-47d1da0a>=</span> component<span class="token punctuation" data-v-47d1da0a>.</span>style<span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token keyword" data-v-47d1da0a>const</span> startY <span class="token operator" data-v-47d1da0a>=</span> e<span class="token punctuation" data-v-47d1da0a>.</span>clientY<span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token keyword" data-v-47d1da0a>const</span> startX <span class="token operator" data-v-47d1da0a>=</span> e<span class="token punctuation" data-v-47d1da0a>.</span>clientX<span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token keyword" data-v-47d1da0a>const</span> startTop <span class="token operator" data-v-47d1da0a>=</span> <span class="token function" data-v-47d1da0a>Number</span><span class="token punctuation" data-v-47d1da0a>(</span>pos<span class="token punctuation" data-v-47d1da0a>.</span>top<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>replace</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;&quot;</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token keyword" data-v-47d1da0a>const</span> startLeft <span class="token operator" data-v-47d1da0a>=</span> <span class="token function" data-v-47d1da0a>Number</span><span class="token punctuation" data-v-47d1da0a>(</span>pos<span class="token punctuation" data-v-47d1da0a>.</span>left<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>replace</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;&quot;</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>

      <span class="token comment" data-v-47d1da0a>// mousemove 修改位置</span>
      <span class="token keyword" data-v-47d1da0a>const</span> <span class="token function-variable function" data-v-47d1da0a>move</span> <span class="token operator" data-v-47d1da0a>=</span> <span class="token punctuation" data-v-47d1da0a>(</span><span class="token parameter" data-v-47d1da0a>moveEvent</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token operator" data-v-47d1da0a>=&gt;</span> <span class="token punctuation" data-v-47d1da0a>{</span>
        <span class="token keyword" data-v-47d1da0a>const</span> currX <span class="token operator" data-v-47d1da0a>=</span> moveEvent<span class="token punctuation" data-v-47d1da0a>.</span>clientX<span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token keyword" data-v-47d1da0a>const</span> currY <span class="token operator" data-v-47d1da0a>=</span> moveEvent<span class="token punctuation" data-v-47d1da0a>.</span>clientY<span class="token punctuation" data-v-47d1da0a>;</span>
        pos<span class="token punctuation" data-v-47d1da0a>.</span>top <span class="token operator" data-v-47d1da0a>=</span> currY <span class="token operator" data-v-47d1da0a>-</span> startY <span class="token operator" data-v-47d1da0a>+</span> startTop<span class="token punctuation" data-v-47d1da0a>;</span>
        pos<span class="token punctuation" data-v-47d1da0a>.</span>left <span class="token operator" data-v-47d1da0a>=</span> currX <span class="token operator" data-v-47d1da0a>-</span> startX <span class="token operator" data-v-47d1da0a>+</span> startLeft<span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token comment" data-v-47d1da0a>// 修改当前组件样式</span>
        selected<span class="token punctuation" data-v-47d1da0a>.</span>style <span class="token operator" data-v-47d1da0a>=</span> <span class="token punctuation" data-v-47d1da0a>{</span>
          top<span class="token operator" data-v-47d1da0a>:</span> pos<span class="token punctuation" data-v-47d1da0a>.</span>top <span class="token operator" data-v-47d1da0a>+</span> <span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
          left<span class="token operator" data-v-47d1da0a>:</span> pos<span class="token punctuation" data-v-47d1da0a>.</span>left <span class="token operator" data-v-47d1da0a>+</span> <span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
          background<span class="token operator" data-v-47d1da0a>:</span> pos<span class="token punctuation" data-v-47d1da0a>.</span>background<span class="token punctuation" data-v-47d1da0a>,</span>
        <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>;</span>

      <span class="token comment" data-v-47d1da0a>// mouseup 解除事件绑定</span>
      <span class="token keyword" data-v-47d1da0a>const</span> <span class="token function-variable function" data-v-47d1da0a>up</span> <span class="token operator" data-v-47d1da0a>=</span> <span class="token punctuation" data-v-47d1da0a>(</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token operator" data-v-47d1da0a>=&gt;</span> <span class="token punctuation" data-v-47d1da0a>{</span>
        document<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>removeEventListener</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;mousemove&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> move<span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
        document<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>removeEventListener</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;mouseup&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> up<span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>;</span>

      document<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>addEventListener</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;mousemove&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> move<span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
      document<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>addEventListener</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;mouseup&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> up<span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
    <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
    <span class="token function" data-v-47d1da0a>handleMenu</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token parameter" data-v-47d1da0a>e</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token punctuation" data-v-47d1da0a>{</span>
      e<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>preventDefault</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>currentComponent <span class="token operator" data-v-47d1da0a>=</span> e<span class="token punctuation" data-v-47d1da0a>.</span>currentTarget<span class="token punctuation" data-v-47d1da0a>.</span>dataset<span class="token punctuation" data-v-47d1da0a>.</span>index<span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>menuPos <span class="token operator" data-v-47d1da0a>=</span> <span class="token punctuation" data-v-47d1da0a>{</span>
        top<span class="token operator" data-v-47d1da0a>:</span> e<span class="token punctuation" data-v-47d1da0a>.</span>offsetY <span class="token operator" data-v-47d1da0a>+</span> <span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
        left<span class="token operator" data-v-47d1da0a>:</span> e<span class="token punctuation" data-v-47d1da0a>.</span>offsetX <span class="token operator" data-v-47d1da0a>+</span> <span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
      <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>showMenu <span class="token operator" data-v-47d1da0a>=</span> <span class="token boolean" data-v-47d1da0a>true</span><span class="token punctuation" data-v-47d1da0a>;</span>
    <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
    <span class="token function" data-v-47d1da0a>handleCommand</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token parameter" data-v-47d1da0a>e</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token punctuation" data-v-47d1da0a>{</span>
      <span class="token keyword" data-v-47d1da0a>const</span> command <span class="token operator" data-v-47d1da0a>=</span> e<span class="token punctuation" data-v-47d1da0a>.</span>target<span class="token punctuation" data-v-47d1da0a>.</span>dataset<span class="token punctuation" data-v-47d1da0a>.</span>command<span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token keyword" data-v-47d1da0a>const</span> len <span class="token operator" data-v-47d1da0a>=</span> <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>componentData<span class="token punctuation" data-v-47d1da0a>.</span>length <span class="token operator" data-v-47d1da0a>-</span> <span class="token number" data-v-47d1da0a>1</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token keyword" data-v-47d1da0a>const</span> tmp <span class="token operator" data-v-47d1da0a>=</span> <span class="token punctuation" data-v-47d1da0a>[</span><span class="token operator" data-v-47d1da0a>...</span><span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>componentData<span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token keyword" data-v-47d1da0a>const</span> curIndex <span class="token operator" data-v-47d1da0a>=</span> <span class="token operator" data-v-47d1da0a>+</span><span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>currentComponent<span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token keyword" data-v-47d1da0a>switch</span> <span class="token punctuation" data-v-47d1da0a>(</span>command<span class="token punctuation" data-v-47d1da0a>)</span> <span class="token punctuation" data-v-47d1da0a>{</span>
        <span class="token keyword" data-v-47d1da0a>case</span> <span class="token string" data-v-47d1da0a>&quot;up&quot;</span><span class="token operator" data-v-47d1da0a>:</span>
          <span class="token keyword" data-v-47d1da0a>if</span> <span class="token punctuation" data-v-47d1da0a>(</span>curIndex <span class="token operator" data-v-47d1da0a>!=</span> len<span class="token punctuation" data-v-47d1da0a>)</span> <span class="token punctuation" data-v-47d1da0a>{</span>
            <span class="token punctuation" data-v-47d1da0a>[</span>tmp<span class="token punctuation" data-v-47d1da0a>[</span>curIndex <span class="token operator" data-v-47d1da0a>+</span> <span class="token number" data-v-47d1da0a>1</span><span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>,</span> tmp<span class="token punctuation" data-v-47d1da0a>[</span>curIndex<span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>]</span> <span class="token operator" data-v-47d1da0a>=</span> <span class="token punctuation" data-v-47d1da0a>[</span>
              tmp<span class="token punctuation" data-v-47d1da0a>[</span>curIndex<span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>,</span>
              tmp<span class="token punctuation" data-v-47d1da0a>[</span>curIndex <span class="token operator" data-v-47d1da0a>+</span> <span class="token number" data-v-47d1da0a>1</span><span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>,</span>
            <span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>;</span>
            <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>$set</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;componentData&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> tmp<span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
          <span class="token punctuation" data-v-47d1da0a>}</span>
          <span class="token keyword" data-v-47d1da0a>break</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token keyword" data-v-47d1da0a>case</span> <span class="token string" data-v-47d1da0a>&quot;down&quot;</span><span class="token operator" data-v-47d1da0a>:</span>
          <span class="token keyword" data-v-47d1da0a>if</span> <span class="token punctuation" data-v-47d1da0a>(</span>curIndex <span class="token operator" data-v-47d1da0a>!=</span> <span class="token number" data-v-47d1da0a>0</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token punctuation" data-v-47d1da0a>{</span>
            <span class="token punctuation" data-v-47d1da0a>[</span>tmp<span class="token punctuation" data-v-47d1da0a>[</span>curIndex <span class="token operator" data-v-47d1da0a>-</span> <span class="token number" data-v-47d1da0a>1</span><span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>,</span> tmp<span class="token punctuation" data-v-47d1da0a>[</span>curIndex<span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>]</span> <span class="token operator" data-v-47d1da0a>=</span> <span class="token punctuation" data-v-47d1da0a>[</span>
              tmp<span class="token punctuation" data-v-47d1da0a>[</span>curIndex<span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>,</span>
              tmp<span class="token punctuation" data-v-47d1da0a>[</span>curIndex <span class="token operator" data-v-47d1da0a>-</span> <span class="token number" data-v-47d1da0a>1</span><span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>,</span>
            <span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>;</span>
            <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>$set</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;componentData&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> tmp<span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
          <span class="token punctuation" data-v-47d1da0a>}</span>
          <span class="token keyword" data-v-47d1da0a>break</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token keyword" data-v-47d1da0a>case</span> <span class="token string" data-v-47d1da0a>&quot;bottom&quot;</span><span class="token operator" data-v-47d1da0a>:</span>
          <span class="token keyword" data-v-47d1da0a>if</span> <span class="token punctuation" data-v-47d1da0a>(</span>curIndex <span class="token operator" data-v-47d1da0a>!=</span> <span class="token number" data-v-47d1da0a>0</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token punctuation" data-v-47d1da0a>{</span>
            tmp<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>unshift</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token operator" data-v-47d1da0a>...</span>tmp<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>splice</span><span class="token punctuation" data-v-47d1da0a>(</span>curIndex<span class="token punctuation" data-v-47d1da0a>,</span> <span class="token number" data-v-47d1da0a>1</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
            <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>$set</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;componentData&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> tmp<span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
          <span class="token punctuation" data-v-47d1da0a>}</span>
          <span class="token keyword" data-v-47d1da0a>break</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token keyword" data-v-47d1da0a>case</span> <span class="token string" data-v-47d1da0a>&quot;top&quot;</span><span class="token operator" data-v-47d1da0a>:</span>
          <span class="token keyword" data-v-47d1da0a>if</span> <span class="token punctuation" data-v-47d1da0a>(</span>curIndex <span class="token operator" data-v-47d1da0a>!=</span> len<span class="token punctuation" data-v-47d1da0a>)</span> <span class="token punctuation" data-v-47d1da0a>{</span>
            tmp<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>push</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token operator" data-v-47d1da0a>...</span>tmp<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>splice</span><span class="token punctuation" data-v-47d1da0a>(</span>curIndex<span class="token punctuation" data-v-47d1da0a>,</span> <span class="token number" data-v-47d1da0a>1</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
            <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>$set</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;componentData&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> tmp<span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
          <span class="token punctuation" data-v-47d1da0a>}</span>
          <span class="token keyword" data-v-47d1da0a>break</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token keyword" data-v-47d1da0a>case</span> <span class="token string" data-v-47d1da0a>&quot;delete&quot;</span><span class="token operator" data-v-47d1da0a>:</span>
          tmp<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>splice</span><span class="token punctuation" data-v-47d1da0a>(</span>curIndex<span class="token punctuation" data-v-47d1da0a>,</span> <span class="token number" data-v-47d1da0a>1</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
          <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>$set</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;componentData&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> tmp<span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
          <span class="token keyword" data-v-47d1da0a>break</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token punctuation" data-v-47d1da0a>}</span>
    <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
  <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
<span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>;</span>
</span></span><span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>script</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>

<span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>style</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span><span class="token style" data-v-47d1da0a><span class="token language-css" data-v-47d1da0a>
<span class="token selector" data-v-47d1da0a>.content</span> <span class="token punctuation" data-v-47d1da0a>{</span>
  <span class="token property" data-v-47d1da0a>height</span><span class="token punctuation" data-v-47d1da0a>:</span> 200px<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>border</span><span class="token punctuation" data-v-47d1da0a>:</span> 1px solid lightblue<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>padding</span><span class="token punctuation" data-v-47d1da0a>:</span> 10px<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>margin-left</span><span class="token punctuation" data-v-47d1da0a>:</span> 10px<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>position</span><span class="token punctuation" data-v-47d1da0a>:</span> relative<span class="token punctuation" data-v-47d1da0a>;</span>
<span class="token punctuation" data-v-47d1da0a>}</span>
<span class="token selector" data-v-47d1da0a>.list</span> <span class="token punctuation" data-v-47d1da0a>{</span>
  <span class="token property" data-v-47d1da0a>height</span><span class="token punctuation" data-v-47d1da0a>:</span> fit-content<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>width</span><span class="token punctuation" data-v-47d1da0a>:</span> fit-content<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>border</span><span class="token punctuation" data-v-47d1da0a>:</span> 1px solid grey<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>cursor</span><span class="token punctuation" data-v-47d1da0a>:</span> grab<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>margin-bottom</span><span class="token punctuation" data-v-47d1da0a>:</span> 10px<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>text-align</span><span class="token punctuation" data-v-47d1da0a>:</span> center<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>color</span><span class="token punctuation" data-v-47d1da0a>:</span> #333<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>padding</span><span class="token punctuation" data-v-47d1da0a>:</span> 2px 5px<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>display</span><span class="token punctuation" data-v-47d1da0a>:</span> flex<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>align-items</span><span class="token punctuation" data-v-47d1da0a>:</span> center<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>justify-content</span><span class="token punctuation" data-v-47d1da0a>:</span> center<span class="token punctuation" data-v-47d1da0a>;</span>
<span class="token punctuation" data-v-47d1da0a>}</span>

<span class="token selector" data-v-47d1da0a>.content .list</span> <span class="token punctuation" data-v-47d1da0a>{</span>
  <span class="token property" data-v-47d1da0a>position</span><span class="token punctuation" data-v-47d1da0a>:</span> absolute<span class="token punctuation" data-v-47d1da0a>;</span>
<span class="token punctuation" data-v-47d1da0a>}</span>
<span class="token selector" data-v-47d1da0a>.menu</span> <span class="token punctuation" data-v-47d1da0a>{</span>
  <span class="token property" data-v-47d1da0a>border</span><span class="token punctuation" data-v-47d1da0a>:</span> 1px solid #000<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>width</span><span class="token punctuation" data-v-47d1da0a>:</span> fit-content<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>z-index</span><span class="token punctuation" data-v-47d1da0a>:</span> 999<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>position</span><span class="token punctuation" data-v-47d1da0a>:</span> absolute<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>background</span><span class="token punctuation" data-v-47d1da0a>:</span> lightcyan<span class="token punctuation" data-v-47d1da0a>;</span>
<span class="token punctuation" data-v-47d1da0a>}</span>
<span class="token selector" data-v-47d1da0a>.menu div</span> <span class="token punctuation" data-v-47d1da0a>{</span>
  <span class="token property" data-v-47d1da0a>border</span><span class="token punctuation" data-v-47d1da0a>:</span> 1px solid #000<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>cursor</span><span class="token punctuation" data-v-47d1da0a>:</span> pointer<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>padding</span><span class="token punctuation" data-v-47d1da0a>:</span> 0 3px<span class="token punctuation" data-v-47d1da0a>;</span>
<span class="token punctuation" data-v-47d1da0a>}</span>
<span class="token selector" data-v-47d1da0a>.menu div:hover</span> <span class="token punctuation" data-v-47d1da0a>{</span>
  <span class="token property" data-v-47d1da0a>background</span><span class="token punctuation" data-v-47d1da0a>:</span> lightblue<span class="token punctuation" data-v-47d1da0a>;</span>
<span class="token punctuation" data-v-47d1da0a>}</span>
</span></span><span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>style</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper" data-v-47d1da0a><span class="line-number" data-v-47d1da0a>1</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>2</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>3</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>4</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>5</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>6</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>7</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>8</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>9</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>10</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>11</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>12</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>13</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>14</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>15</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>16</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>17</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>18</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>19</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>20</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>21</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>22</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>23</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>24</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>25</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>26</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>27</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>28</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>29</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>30</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>31</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>32</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>33</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>34</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>35</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>36</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>37</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>38</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>39</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>40</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>41</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>42</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>43</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>44</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>45</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>46</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>47</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>48</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>49</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>50</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>51</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>52</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>53</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>54</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>55</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>56</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>57</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>58</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>59</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>60</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>61</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>62</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>63</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>64</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>65</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>66</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>67</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>68</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>69</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>70</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>71</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>72</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>73</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>74</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>75</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>76</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>77</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>78</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>79</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>80</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>81</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>82</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>83</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>84</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>85</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>86</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>87</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>88</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>89</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>90</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>91</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>92</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>93</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>94</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>95</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>96</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>97</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>98</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>99</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>100</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>101</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>102</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>103</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>104</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>105</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>106</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>107</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>108</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>109</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>110</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>111</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>112</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>113</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>114</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>115</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>116</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>117</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>118</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>119</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>120</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>121</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>122</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>123</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>124</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>125</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>126</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>127</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>128</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>129</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>130</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>131</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>132</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>133</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>134</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>135</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>136</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>137</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>138</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>139</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>140</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>141</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>142</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>143</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>144</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>145</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>146</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>147</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>148</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>149</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>150</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>151</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>152</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>153</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>154</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>155</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>156</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>157</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>158</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>159</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>160</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>161</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>162</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>163</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>164</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>165</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>166</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>167</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>168</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>169</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>170</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>171</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>172</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>173</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>174</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>175</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>176</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>177</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>178</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>179</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>180</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>181</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>182</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>183</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>184</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>185</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>186</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>187</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>188</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>189</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>190</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>191</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>192</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>193</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>194</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>195</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>196</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>197</span><br data-v-47d1da0a></div></div></div></div> <div class="demo-block-control" style="width:unset;" data-v-47d1da0a><i class="caret-bottom icon" data-v-47d1da0a data-v-47d1da0a></i> <span style="display:none;" data-v-47d1da0a data-v-47d1da0a>Expand</span> <span class="copy-action" style="display:;" data-v-47d1da0a>Copy</span> <span class="copy-action copy-action-success" style="display:none;" data-v-47d1da0a data-v-47d1da0a>Copy</span></div></div><h2 id="放大缩小"><a href="#放大缩小" class="header-anchor">#</a> 放大缩小</h2> <p>选中画布上的组件，组件外圈会出现 8 个小圆点可以拖动进行放大缩小。</p> <p>思路：</p> <ol><li>每个组件外层包裹一层组件，包裹组件包含 8 个小圆点和插槽，插槽用来放置组件</li></ol> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!--页面组件列表展示--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Shape</span>
  <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(item, index) in componentData<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:defaultStyle</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.style<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getShapeStyle(item.style, index)<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.id<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:active</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item === curComponent<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:element</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:zIndex</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span>
        <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>component<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.component<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getComponentStyle(item.style)<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">:propValue</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.propValue<span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Shape</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>组件内部：</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
    <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>shape<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ active: this.active }<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectCurComponent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">@mousedown</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleMouseDown<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">@contextmenu</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleContextMenu<span class="token punctuation">&quot;</span></span>
  <span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
      <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>shape-point<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(item, index) in active ? pointList : []<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">@mousedown</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleMouseDownOnPoint(item)<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getPointStyle(item)<span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><ol start="2"><li>点击组件通过样式控制显示小圆点</li> <li>计算每个小圆点的位置（要显示在组件外层，还需要计算小圆点的大小，记小圆点长宽都为 <code>w</code>）：</li></ol> <ul><li>左上 <code>left:0-w top:0-w</code></li> <li>右上 <code>left:width top:0-w</code></li> <li>左下 <code>left:0-w top:height</code></li> <li>右下 <code>left:width top:height</code></li> <li>中间的点 <code>width/2 height/2</code> 同理计算</li></ul> <ol start="4"><li>点击小圆点可以进行缩放操作</li></ol> <ul><li>点击小圆点，记录初始坐标</li> <li>向下拖动就用新的 y 坐标减去初始坐标可以得到移动距离，再把距离加上组件的高度计算得到新的高度(用 <code>movement</code> 鼠标移动距离也可以计算)</li> <li>上下只能修改高度 左右只能修改宽度，西北方向特殊处理,需要限制对应圆点的功能</li></ul> <div class="demo-block demo-en-US demo-vdrag.html" data-v-47d1da0a><div class="demo-content" data-v-47d1da0a><div><div class="content"><div data-index="0" class="component" style="top:30px;left:30px;height:100px;width:100px;background:lightblue;"><div>自定义组件</div> </div></div></div></div> <div class="meta" data-v-47d1da0a><!----> <div class="code-content" data-v-47d1da0a><div class="language-vue line-numbers-mode" data-v-47d1da0a><pre class="language-vue" data-v-47d1da0a><code data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>template</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
  <span class="token comment" data-v-47d1da0a>&lt;!-- 画板 --&gt;</span>
  <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>div</span> <span class="token attr-name" data-v-47d1da0a>class</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>content<span class="token punctuation" data-v-47d1da0a>&quot;</span></span> <span class="token attr-name" data-v-47d1da0a>@click</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>contentClick<span class="token punctuation" data-v-47d1da0a>&quot;</span></span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
    <span class="token comment" data-v-47d1da0a>&lt;!-- 模拟外层包裹组件 --&gt;</span>
    <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>div</span>
      <span class="token attr-name" data-v-47d1da0a>v-for</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>(item, index) in componentData<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
      <span class="token attr-name" data-v-47d1da0a>:key</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>index<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
      <span class="token attr-name" data-v-47d1da0a>class</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>component<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
      <span class="token attr-name" data-v-47d1da0a>:style</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>item.style<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
      <span class="token attr-name" data-v-47d1da0a>:data-index</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>index<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
      <span class="token attr-name" data-v-47d1da0a>@click</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>
        (e) =&gt; {
          e.stopPropagation();
          selected = index;
        }
      <span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
    <span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
      <span class="token comment" data-v-47d1da0a>&lt;!-- 自定义组件 --&gt;</span>
      <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>div</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>自定义组件<span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>div</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
      <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>div</span>
        <span class="token attr-name" data-v-47d1da0a>class</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>dots<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
        <span class="token attr-name" data-v-47d1da0a>v-for</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>(dot, i) in dots<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
        <span class="token attr-name" data-v-47d1da0a>:key</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>i<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
        <span class="token attr-name" data-v-47d1da0a>:style</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>{
          left: dot[0] + <span class="token punctuation" data-v-47d1da0a>'</span>px<span class="token punctuation" data-v-47d1da0a>'</span>,
          top: dot[1] + <span class="token punctuation" data-v-47d1da0a>'</span>px<span class="token punctuation" data-v-47d1da0a>'</span>,
          width: dotSize + <span class="token punctuation" data-v-47d1da0a>'</span>px<span class="token punctuation" data-v-47d1da0a>'</span>,
          height: dotSize + <span class="token punctuation" data-v-47d1da0a>'</span>px<span class="token punctuation" data-v-47d1da0a>'</span>,
          cursor: dot[2],
        }<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
        <span class="token attr-name" data-v-47d1da0a>@mousedown</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>handleMouseDown<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
        <span class="token attr-name" data-v-47d1da0a>:data-type</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>dot[2].split(<span class="token punctuation" data-v-47d1da0a>'</span>-<span class="token punctuation" data-v-47d1da0a>'</span>)[0]<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
      <span class="token punctuation" data-v-47d1da0a>&gt;</span></span><span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>div</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
    <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>div</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
  <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>div</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
<span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>template</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>

<span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>script</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span><span class="token script" data-v-47d1da0a><span class="token language-javascript" data-v-47d1da0a>
<span class="token keyword" data-v-47d1da0a>export</span> <span class="token keyword" data-v-47d1da0a>default</span> <span class="token punctuation" data-v-47d1da0a>{</span>
  <span class="token function" data-v-47d1da0a>data</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token punctuation" data-v-47d1da0a>{</span>
    <span class="token keyword" data-v-47d1da0a>return</span> <span class="token punctuation" data-v-47d1da0a>{</span>
      componentData<span class="token operator" data-v-47d1da0a>:</span> <span class="token punctuation" data-v-47d1da0a>[</span>
        <span class="token punctuation" data-v-47d1da0a>{</span>
          style<span class="token operator" data-v-47d1da0a>:</span> <span class="token punctuation" data-v-47d1da0a>{</span>
            top<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;30px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            left<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;30px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            height<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;100px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            width<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;100px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            background<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;lightblue&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
          <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
        <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
      <span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>,</span>
      selected<span class="token operator" data-v-47d1da0a>:</span> <span class="token keyword" data-v-47d1da0a>null</span><span class="token punctuation" data-v-47d1da0a>,</span>
      dotSize<span class="token operator" data-v-47d1da0a>:</span> <span class="token number" data-v-47d1da0a>4</span><span class="token punctuation" data-v-47d1da0a>,</span>
    <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
  methods<span class="token operator" data-v-47d1da0a>:</span> <span class="token punctuation" data-v-47d1da0a>{</span>
    <span class="token function" data-v-47d1da0a>contentClick</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token punctuation" data-v-47d1da0a>{</span>
      <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>selected <span class="token operator" data-v-47d1da0a>=</span> <span class="token keyword" data-v-47d1da0a>null</span><span class="token punctuation" data-v-47d1da0a>;</span>
    <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
    <span class="token comment" data-v-47d1da0a>// componentClick(index) {</span>
    <span class="token comment" data-v-47d1da0a>//   return function(e) {</span>
    <span class="token comment" data-v-47d1da0a>//     e.stopPropagation();</span>
    <span class="token comment" data-v-47d1da0a>//     this.selected = index;</span>
    <span class="token comment" data-v-47d1da0a>//   };</span>
    <span class="token comment" data-v-47d1da0a>// },</span>
    <span class="token function" data-v-47d1da0a>handleMouseDown</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token parameter" data-v-47d1da0a>e</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token punctuation" data-v-47d1da0a>{</span>
      <span class="token keyword" data-v-47d1da0a>const</span> component <span class="token operator" data-v-47d1da0a>=</span> <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>componentData<span class="token punctuation" data-v-47d1da0a>[</span><span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>selected<span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token keyword" data-v-47d1da0a>const</span> type <span class="token operator" data-v-47d1da0a>=</span> e<span class="token punctuation" data-v-47d1da0a>.</span>target<span class="token punctuation" data-v-47d1da0a>.</span>dataset<span class="token punctuation" data-v-47d1da0a>.</span>type<span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token keyword" data-v-47d1da0a>const</span> <span class="token function-variable function" data-v-47d1da0a>move</span> <span class="token operator" data-v-47d1da0a>=</span> <span class="token punctuation" data-v-47d1da0a>(</span><span class="token parameter" data-v-47d1da0a>me</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token operator" data-v-47d1da0a>=&gt;</span> <span class="token punctuation" data-v-47d1da0a>{</span>
        <span class="token keyword" data-v-47d1da0a>let</span> t <span class="token operator" data-v-47d1da0a>=</span> <span class="token punctuation" data-v-47d1da0a>{</span> <span class="token operator" data-v-47d1da0a>...</span>component<span class="token punctuation" data-v-47d1da0a>.</span>style <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token comment" data-v-47d1da0a>// 东西方向能修改宽度</span>
        <span class="token keyword" data-v-47d1da0a>if</span> <span class="token punctuation" data-v-47d1da0a>(</span>type<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>indexOf</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;e&quot;</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token operator" data-v-47d1da0a>&gt;</span> <span class="token operator" data-v-47d1da0a>-</span><span class="token number" data-v-47d1da0a>1</span><span class="token punctuation" data-v-47d1da0a>)</span>
          t<span class="token punctuation" data-v-47d1da0a>.</span>width <span class="token operator" data-v-47d1da0a>=</span> <span class="token function" data-v-47d1da0a>Number</span><span class="token punctuation" data-v-47d1da0a>(</span>t<span class="token punctuation" data-v-47d1da0a>.</span>width<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>replace</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;&quot;</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token operator" data-v-47d1da0a>+</span> me<span class="token punctuation" data-v-47d1da0a>.</span>movementX <span class="token operator" data-v-47d1da0a>+</span> <span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token comment" data-v-47d1da0a>// 南北方向能修改高度</span>
        <span class="token keyword" data-v-47d1da0a>if</span> <span class="token punctuation" data-v-47d1da0a>(</span>type<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>indexOf</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;s&quot;</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token operator" data-v-47d1da0a>&gt;</span> <span class="token operator" data-v-47d1da0a>-</span><span class="token number" data-v-47d1da0a>1</span><span class="token punctuation" data-v-47d1da0a>)</span>
          t<span class="token punctuation" data-v-47d1da0a>.</span>height <span class="token operator" data-v-47d1da0a>=</span> <span class="token function" data-v-47d1da0a>Number</span><span class="token punctuation" data-v-47d1da0a>(</span>t<span class="token punctuation" data-v-47d1da0a>.</span>height<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>replace</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;&quot;</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token operator" data-v-47d1da0a>+</span> me<span class="token punctuation" data-v-47d1da0a>.</span>movementY <span class="token operator" data-v-47d1da0a>+</span> <span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token comment" data-v-47d1da0a>// 西北方向需要修改 left top 宽高修改相反</span>
        <span class="token keyword" data-v-47d1da0a>if</span> <span class="token punctuation" data-v-47d1da0a>(</span>type<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>indexOf</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;w&quot;</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token operator" data-v-47d1da0a>&gt;</span> <span class="token operator" data-v-47d1da0a>-</span><span class="token number" data-v-47d1da0a>1</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token punctuation" data-v-47d1da0a>{</span>
          t<span class="token punctuation" data-v-47d1da0a>.</span>left <span class="token operator" data-v-47d1da0a>=</span> <span class="token function" data-v-47d1da0a>Number</span><span class="token punctuation" data-v-47d1da0a>(</span>t<span class="token punctuation" data-v-47d1da0a>.</span>left<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>replace</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;&quot;</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token operator" data-v-47d1da0a>+</span> me<span class="token punctuation" data-v-47d1da0a>.</span>movementX <span class="token operator" data-v-47d1da0a>+</span> <span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>;</span>
          t<span class="token punctuation" data-v-47d1da0a>.</span>width <span class="token operator" data-v-47d1da0a>=</span> <span class="token function" data-v-47d1da0a>Number</span><span class="token punctuation" data-v-47d1da0a>(</span>t<span class="token punctuation" data-v-47d1da0a>.</span>width<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>replace</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;&quot;</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token operator" data-v-47d1da0a>-</span> me<span class="token punctuation" data-v-47d1da0a>.</span>movementX <span class="token operator" data-v-47d1da0a>+</span> <span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token punctuation" data-v-47d1da0a>}</span>
        <span class="token keyword" data-v-47d1da0a>if</span> <span class="token punctuation" data-v-47d1da0a>(</span>type<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>indexOf</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;n&quot;</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token operator" data-v-47d1da0a>&gt;</span> <span class="token operator" data-v-47d1da0a>-</span><span class="token number" data-v-47d1da0a>1</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token punctuation" data-v-47d1da0a>{</span>
          t<span class="token punctuation" data-v-47d1da0a>.</span>top <span class="token operator" data-v-47d1da0a>=</span> <span class="token function" data-v-47d1da0a>Number</span><span class="token punctuation" data-v-47d1da0a>(</span>t<span class="token punctuation" data-v-47d1da0a>.</span>top<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>replace</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;&quot;</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token operator" data-v-47d1da0a>+</span> me<span class="token punctuation" data-v-47d1da0a>.</span>movementY <span class="token operator" data-v-47d1da0a>+</span> <span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>;</span>
          t<span class="token punctuation" data-v-47d1da0a>.</span>height <span class="token operator" data-v-47d1da0a>=</span> <span class="token function" data-v-47d1da0a>Number</span><span class="token punctuation" data-v-47d1da0a>(</span>t<span class="token punctuation" data-v-47d1da0a>.</span>height<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>replace</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;&quot;</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token operator" data-v-47d1da0a>-</span> me<span class="token punctuation" data-v-47d1da0a>.</span>movementY <span class="token operator" data-v-47d1da0a>+</span> <span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token punctuation" data-v-47d1da0a>}</span>
        <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>$set</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>componentData<span class="token punctuation" data-v-47d1da0a>[</span><span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>selected<span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;style&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> t<span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token keyword" data-v-47d1da0a>const</span> <span class="token function-variable function" data-v-47d1da0a>up</span> <span class="token operator" data-v-47d1da0a>=</span> <span class="token punctuation" data-v-47d1da0a>(</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token operator" data-v-47d1da0a>=&gt;</span> <span class="token punctuation" data-v-47d1da0a>{</span>
        document<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>removeEventListener</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;mousemove&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> move<span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
        document<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>removeEventListener</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;mouseup&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> up<span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>;</span>
      document<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>addEventListener</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;mousemove&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> move<span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
      document<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>addEventListener</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;mouseup&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> up<span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
    <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
  <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
  computed<span class="token operator" data-v-47d1da0a>:</span> <span class="token punctuation" data-v-47d1da0a>{</span>
    <span class="token function" data-v-47d1da0a>dots</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token punctuation" data-v-47d1da0a>{</span>
      <span class="token keyword" data-v-47d1da0a>if</span> <span class="token punctuation" data-v-47d1da0a>(</span><span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>selected <span class="token operator" data-v-47d1da0a>!==</span> <span class="token keyword" data-v-47d1da0a>null</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token punctuation" data-v-47d1da0a>{</span>
        <span class="token keyword" data-v-47d1da0a>const</span> component <span class="token operator" data-v-47d1da0a>=</span> <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>componentData<span class="token punctuation" data-v-47d1da0a>[</span><span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>selected<span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token keyword" data-v-47d1da0a>const</span> width <span class="token operator" data-v-47d1da0a>=</span> <span class="token operator" data-v-47d1da0a>+</span>component<span class="token punctuation" data-v-47d1da0a>.</span>style<span class="token punctuation" data-v-47d1da0a>.</span>width<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>replace</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;&quot;</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token keyword" data-v-47d1da0a>const</span> height <span class="token operator" data-v-47d1da0a>=</span> <span class="token operator" data-v-47d1da0a>+</span>component<span class="token punctuation" data-v-47d1da0a>.</span>style<span class="token punctuation" data-v-47d1da0a>.</span>height<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>replace</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;&quot;</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token keyword" data-v-47d1da0a>return</span> <span class="token punctuation" data-v-47d1da0a>[</span>
          <span class="token punctuation" data-v-47d1da0a>[</span><span class="token number" data-v-47d1da0a>0</span> <span class="token operator" data-v-47d1da0a>-</span> <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>dotSize<span class="token punctuation" data-v-47d1da0a>,</span> <span class="token number" data-v-47d1da0a>0</span> <span class="token operator" data-v-47d1da0a>-</span> <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>dotSize<span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;nw-resize&quot;</span><span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>,</span>
          <span class="token punctuation" data-v-47d1da0a>[</span><span class="token number" data-v-47d1da0a>0</span> <span class="token operator" data-v-47d1da0a>-</span> <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>dotSize<span class="token punctuation" data-v-47d1da0a>,</span> height<span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;sw-resize&quot;</span><span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>,</span>
          <span class="token punctuation" data-v-47d1da0a>[</span>width<span class="token punctuation" data-v-47d1da0a>,</span> <span class="token number" data-v-47d1da0a>0</span> <span class="token operator" data-v-47d1da0a>-</span> <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>dotSize<span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;ne-resize&quot;</span><span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>,</span>
          <span class="token punctuation" data-v-47d1da0a>[</span>width<span class="token punctuation" data-v-47d1da0a>,</span> height<span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;se-resize&quot;</span><span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>,</span>
          <span class="token punctuation" data-v-47d1da0a>[</span>width <span class="token operator" data-v-47d1da0a>/</span> <span class="token number" data-v-47d1da0a>2</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token number" data-v-47d1da0a>0</span> <span class="token operator" data-v-47d1da0a>-</span> <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>dotSize<span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;n-resize&quot;</span><span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>,</span>
          <span class="token punctuation" data-v-47d1da0a>[</span>width <span class="token operator" data-v-47d1da0a>/</span> <span class="token number" data-v-47d1da0a>2</span><span class="token punctuation" data-v-47d1da0a>,</span> height<span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;s-resize&quot;</span><span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>,</span>
          <span class="token punctuation" data-v-47d1da0a>[</span><span class="token number" data-v-47d1da0a>0</span> <span class="token operator" data-v-47d1da0a>-</span> <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>dotSize<span class="token punctuation" data-v-47d1da0a>,</span> height <span class="token operator" data-v-47d1da0a>/</span> <span class="token number" data-v-47d1da0a>2</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;w-resize&quot;</span><span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>,</span>
          <span class="token punctuation" data-v-47d1da0a>[</span>width<span class="token punctuation" data-v-47d1da0a>,</span> height <span class="token operator" data-v-47d1da0a>/</span> <span class="token number" data-v-47d1da0a>2</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;e-resize&quot;</span><span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>,</span>
        <span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token punctuation" data-v-47d1da0a>}</span>
      <span class="token keyword" data-v-47d1da0a>return</span> <span class="token punctuation" data-v-47d1da0a>[</span><span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>;</span>
    <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
  <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
<span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>;</span>
</span></span><span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>script</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>

<span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>style</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span><span class="token style" data-v-47d1da0a><span class="token language-css" data-v-47d1da0a>
<span class="token selector" data-v-47d1da0a>.content</span> <span class="token punctuation" data-v-47d1da0a>{</span>
  <span class="token property" data-v-47d1da0a>height</span><span class="token punctuation" data-v-47d1da0a>:</span> 200px<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>flex</span><span class="token punctuation" data-v-47d1da0a>:</span> 1<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>border</span><span class="token punctuation" data-v-47d1da0a>:</span> 1px solid lightblue<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>padding</span><span class="token punctuation" data-v-47d1da0a>:</span> 10px<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>margin-left</span><span class="token punctuation" data-v-47d1da0a>:</span> 10px<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>position</span><span class="token punctuation" data-v-47d1da0a>:</span> relative<span class="token punctuation" data-v-47d1da0a>;</span>
<span class="token punctuation" data-v-47d1da0a>}</span>

<span class="token selector" data-v-47d1da0a>.component</span> <span class="token punctuation" data-v-47d1da0a>{</span>
  <span class="token property" data-v-47d1da0a>position</span><span class="token punctuation" data-v-47d1da0a>:</span> absolute<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>height</span><span class="token punctuation" data-v-47d1da0a>:</span> fit-content<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>width</span><span class="token punctuation" data-v-47d1da0a>:</span> fit-content<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>text-align</span><span class="token punctuation" data-v-47d1da0a>:</span> center<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>color</span><span class="token punctuation" data-v-47d1da0a>:</span> #333<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>display</span><span class="token punctuation" data-v-47d1da0a>:</span> flex<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>align-items</span><span class="token punctuation" data-v-47d1da0a>:</span> center<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>justify-content</span><span class="token punctuation" data-v-47d1da0a>:</span> center<span class="token punctuation" data-v-47d1da0a>;</span>
<span class="token punctuation" data-v-47d1da0a>}</span>
<span class="token selector" data-v-47d1da0a>.dots</span> <span class="token punctuation" data-v-47d1da0a>{</span>
  <span class="token property" data-v-47d1da0a>border</span><span class="token punctuation" data-v-47d1da0a>:</span> 1px solid lightblue<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>position</span><span class="token punctuation" data-v-47d1da0a>:</span> absolute<span class="token punctuation" data-v-47d1da0a>;</span>
<span class="token punctuation" data-v-47d1da0a>}</span>
</span></span><span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>style</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper" data-v-47d1da0a><span class="line-number" data-v-47d1da0a>1</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>2</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>3</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>4</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>5</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>6</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>7</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>8</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>9</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>10</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>11</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>12</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>13</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>14</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>15</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>16</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>17</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>18</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>19</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>20</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>21</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>22</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>23</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>24</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>25</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>26</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>27</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>28</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>29</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>30</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>31</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>32</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>33</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>34</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>35</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>36</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>37</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>38</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>39</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>40</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>41</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>42</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>43</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>44</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>45</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>46</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>47</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>48</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>49</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>50</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>51</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>52</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>53</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>54</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>55</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>56</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>57</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>58</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>59</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>60</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>61</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>62</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>63</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>64</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>65</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>66</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>67</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>68</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>69</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>70</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>71</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>72</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>73</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>74</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>75</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>76</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>77</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>78</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>79</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>80</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>81</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>82</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>83</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>84</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>85</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>86</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>87</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>88</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>89</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>90</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>91</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>92</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>93</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>94</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>95</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>96</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>97</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>98</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>99</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>100</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>101</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>102</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>103</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>104</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>105</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>106</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>107</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>108</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>109</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>110</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>111</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>112</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>113</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>114</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>115</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>116</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>117</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>118</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>119</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>120</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>121</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>122</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>123</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>124</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>125</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>126</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>127</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>128</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>129</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>130</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>131</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>132</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>133</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>134</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>135</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>136</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>137</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>138</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>139</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>140</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>141</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>142</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>143</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>144</span><br data-v-47d1da0a></div></div></div></div> <div class="demo-block-control" style="width:unset;" data-v-47d1da0a><i class="caret-bottom icon" data-v-47d1da0a data-v-47d1da0a></i> <span style="display:none;" data-v-47d1da0a data-v-47d1da0a>Expand</span> <span class="copy-action" style="display:;" data-v-47d1da0a>Copy</span> <span class="copy-action copy-action-success" style="display:none;" data-v-47d1da0a data-v-47d1da0a>Copy</span></div></div><h2 id="撤销-重做"><a href="#撤销-重做" class="header-anchor">#</a> 撤销 重做</h2> <p>用一个数组来保存编辑器的快照数据。保存快照就是将当前的编辑器数据推入 <code>snapshotData</code> 数组，并增加快照索引 <code>snapshotIndex</code>。目前以下几个动作会触发保存快照操作：</p> <ul><li>新增组件</li> <li>删除组件</li> <li>改变图层层级</li> <li>拖动组件结束时</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// snapshotData: [], // 编辑器快照数据</span>
<span class="token comment">// snapshotIndex: -1, // 快照索引</span>

<span class="token function">undo</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>state<span class="token punctuation">.</span>snapshotIndex <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        state<span class="token punctuation">.</span>snapshotIndex<span class="token operator">--</span>
        store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'setComponentData'</span><span class="token punctuation">,</span> <span class="token function">deepCopy</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>snapshotData<span class="token punctuation">[</span>state<span class="token punctuation">.</span>snapshotIndex<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>

<span class="token function">redo</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>state<span class="token punctuation">.</span>snapshotIndex <span class="token operator">&lt;</span> state<span class="token punctuation">.</span>snapshotData<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        state<span class="token punctuation">.</span>snapshotIndex<span class="token operator">++</span>
        store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'setComponentData'</span><span class="token punctuation">,</span> <span class="token function">deepCopy</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>snapshotData<span class="token punctuation">[</span>state<span class="token punctuation">.</span>snapshotIndex<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>

<span class="token function">setComponentData</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> componentData <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Vue<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> <span class="token string">'componentData'</span><span class="token punctuation">,</span> componentData<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>

<span class="token function">recordSnapshot</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 添加新的快照</span>
    state<span class="token punctuation">.</span>snapshotData<span class="token punctuation">[</span><span class="token operator">++</span>state<span class="token punctuation">.</span>snapshotIndex<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">deepCopy</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>componentData<span class="token punctuation">)</span>
    <span class="token comment">// 在 undo 过程中，添加新的快照时，要将它后面的快照清理掉</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>state<span class="token punctuation">.</span>snapshotIndex <span class="token operator">&lt;</span> state<span class="token punctuation">.</span>snapshotData<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        state<span class="token punctuation">.</span>snapshotData <span class="token operator">=</span> state<span class="token punctuation">.</span>snapshotData<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> state<span class="token punctuation">.</span>snapshotIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><ul><li>撤销 就是将快照索引减一，更新索引指向数据给画布
<ul><li>撤销后做了新的操作就把新的快照数据加入数组，更新索引</li></ul></li> <li>重做 就是快照索引加一，更新索引指向数据给画布</li></ul> <h2 id="吸附-对齐"><a href="#吸附-对齐" class="header-anchor">#</a> 吸附 对齐</h2> <p>参考 <code>Sketch</code> 墨刀</p> <img src="/Grimoire/eng_vdrag_2.png" alt="标线"> <p>可以看到，一个组件在画布中可以由 6 条线 <code>(vt / vm / vb | hl / hm / hr)</code> 来表示，组件移动过程中的对齐其实就是组件的 6 条线到其它组件线的集合中寻找临近线，找到后考虑 吸附 + 对齐 的过程。</p> <p>对齐吸附：横向左移动为例，它的 <code>hl / hm / hr</code> 会不断的去查找与这 3 条线相邻最近的线。</p> <ul><li>当没有找到相邻线时，组件跟随鼠标移动</li> <li>当初次找到时，组件便移动一个较大距离吸附过去</li> <li>当在吸附线上再次移动时，继续查找相邻线，看是否有下一条吸附线
<ul><li>如果有，则移动到下一条吸附线上</li> <li>如果没有，则在鼠标移动一定距离后，组件离开</li></ul></li></ul> <p>具体（a 是移动组件 b 是固定组件）：</p> <ul><li>向下移动 依次会出现下面情况
<ul><li>a 底部 = b 顶部 显示 水平底部线</li> <li>a 顶部 = b 顶部 显示 水平顶部线</li> <li>a 中间 = b 中间 显示 水平中线</li> <li>a 底部 = b 底部 显示 水平底部线</li> <li>a 顶部 = b 底部 显示 水平顶部线</li></ul></li> <li>向左向右同理</li> <li>向上移动和向下出现顺序相反</li></ul> <p>上下和左右分别构造两个数组来保存：</p> <ul><li>判断条件 是否满足吸附</li> <li>显示的线的类型</li> <li>吸附后 线的位置</li> <li>吸附后 组件的位置</li></ul> <p>按照顺序遍历数组，只要满足条件就退出，同时一个方向只会显示一条线</p> <div class="demo-block demo-en-US demo-vdrag.html" data-v-47d1da0a><div class="demo-content" data-v-47d1da0a><div><div class="content"><div data-index="0" class="component" style="top:0;left:0;width:75px;height:75px;background:lightblue;"></div><div data-index="1" class="component" style="top:100px;left:100px;width:100px;height:100px;background:lightgrey;"></div> <div class="mark-line"><div class="line xline" style="display:none;"></div><div class="line xline" style="display:none;"></div><div class="line xline" style="display:none;"></div><div class="line yline" style="display:none;"></div><div class="line yline" style="display:none;"></div><div class="line yline" style="display:none;"></div></div></div></div></div> <div class="meta" data-v-47d1da0a><!----> <div class="code-content" data-v-47d1da0a><div class="language-vue line-numbers-mode" data-v-47d1da0a><pre class="language-vue" data-v-47d1da0a><code data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>template</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
  <span class="token comment" data-v-47d1da0a>&lt;!-- 画板 --&gt;</span>
  <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>div</span> <span class="token attr-name" data-v-47d1da0a>class</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>content<span class="token punctuation" data-v-47d1da0a>&quot;</span></span> <span class="token attr-name" data-v-47d1da0a>@click</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>selected = null<span class="token punctuation" data-v-47d1da0a>&quot;</span></span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
    <span class="token comment" data-v-47d1da0a>&lt;!-- 模拟外层包裹组件 --&gt;</span>
    <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>div</span>
      <span class="token attr-name" data-v-47d1da0a>v-for</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>(item, index) in componentData<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
      <span class="token attr-name" data-v-47d1da0a>:key</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>index<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
      <span class="token attr-name" data-v-47d1da0a>class</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>component<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
      <span class="token attr-name" data-v-47d1da0a>:style</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>item.style<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
      <span class="token attr-name" data-v-47d1da0a>:data-index</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>index<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
      <span class="token attr-name" data-v-47d1da0a>@mousedown</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>handleMouseDown<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
    <span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
      <span class="token comment" data-v-47d1da0a>&lt;!-- 自定义组件 --&gt;</span>
      <span class="token comment" data-v-47d1da0a>&lt;!-- &lt;div&gt;自定义组件&lt;/div&gt; --&gt;</span>
    <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>div</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>

    <span class="token comment" data-v-47d1da0a>&lt;!-- 标线 --&gt;</span>
    <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>div</span> <span class="token attr-name" data-v-47d1da0a>class</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>mark-line<span class="token punctuation" data-v-47d1da0a>&quot;</span></span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
      <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>div</span>
        <span class="token attr-name" data-v-47d1da0a>v-for</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>line in lines<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
        <span class="token attr-name" data-v-47d1da0a>:key</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>line<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
        <span class="token attr-name" data-v-47d1da0a>class</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>line<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
        <span class="token attr-name" data-v-47d1da0a>:class</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>line.includes(<span class="token punctuation" data-v-47d1da0a>'</span>x<span class="token punctuation" data-v-47d1da0a>'</span>) ? <span class="token punctuation" data-v-47d1da0a>'</span>xline<span class="token punctuation" data-v-47d1da0a>'</span> : <span class="token punctuation" data-v-47d1da0a>'</span>yline<span class="token punctuation" data-v-47d1da0a>'</span><span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
        <span class="token attr-name" data-v-47d1da0a>:ref</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>line<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
        <span class="token attr-name" data-v-47d1da0a>v-show</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>lineStatus[line] || false<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
      <span class="token punctuation" data-v-47d1da0a>&gt;</span></span><span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>div</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
    <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>div</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
  <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>div</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
<span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>template</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>

<span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>script</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span><span class="token script" data-v-47d1da0a><span class="token language-javascript" data-v-47d1da0a>
<span class="token keyword" data-v-47d1da0a>export</span> <span class="token keyword" data-v-47d1da0a>default</span> <span class="token punctuation" data-v-47d1da0a>{</span>
  <span class="token function" data-v-47d1da0a>data</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token punctuation" data-v-47d1da0a>{</span>
    <span class="token keyword" data-v-47d1da0a>return</span> <span class="token punctuation" data-v-47d1da0a>{</span>
      componentData<span class="token operator" data-v-47d1da0a>:</span> <span class="token punctuation" data-v-47d1da0a>[</span>
        <span class="token punctuation" data-v-47d1da0a>{</span>
          style<span class="token operator" data-v-47d1da0a>:</span> <span class="token punctuation" data-v-47d1da0a>{</span>
            top<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;0&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            left<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;0&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            width<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;75px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            height<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;75px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            background<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;lightblue&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
          <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
        <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
        <span class="token punctuation" data-v-47d1da0a>{</span>
          style<span class="token operator" data-v-47d1da0a>:</span> <span class="token punctuation" data-v-47d1da0a>{</span>
            top<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;100px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            left<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;100px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            width<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;100px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            height<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;100px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            background<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;lightgrey&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
          <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
        <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
      <span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>,</span>
      currentComponent<span class="token operator" data-v-47d1da0a>:</span> <span class="token keyword" data-v-47d1da0a>null</span><span class="token punctuation" data-v-47d1da0a>,</span>
      lines<span class="token operator" data-v-47d1da0a>:</span> <span class="token punctuation" data-v-47d1da0a>[</span><span class="token string" data-v-47d1da0a>&quot;xt&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;xc&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;xb&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;yl&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;yc&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;yr&quot;</span><span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token comment" data-v-47d1da0a>// 分别对应三条横线和三条竖线</span>
      diff<span class="token operator" data-v-47d1da0a>:</span> <span class="token number" data-v-47d1da0a>5</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token comment" data-v-47d1da0a>// 相距 dff 像素将自动吸附</span>
      lineStatus<span class="token operator" data-v-47d1da0a>:</span> <span class="token punctuation" data-v-47d1da0a>{</span>
        xt<span class="token operator" data-v-47d1da0a>:</span> <span class="token boolean" data-v-47d1da0a>false</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token comment" data-v-47d1da0a>// 水平顶部</span>
        xc<span class="token operator" data-v-47d1da0a>:</span> <span class="token boolean" data-v-47d1da0a>false</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token comment" data-v-47d1da0a>// 水平中间</span>
        xb<span class="token operator" data-v-47d1da0a>:</span> <span class="token boolean" data-v-47d1da0a>false</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token comment" data-v-47d1da0a>// 水平底部</span>
        yl<span class="token operator" data-v-47d1da0a>:</span> <span class="token boolean" data-v-47d1da0a>false</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token comment" data-v-47d1da0a>// 垂直左边</span>
        yc<span class="token operator" data-v-47d1da0a>:</span> <span class="token boolean" data-v-47d1da0a>false</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token comment" data-v-47d1da0a>// 垂直中间</span>
        yr<span class="token operator" data-v-47d1da0a>:</span> <span class="token boolean" data-v-47d1da0a>false</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token comment" data-v-47d1da0a>// 垂直右边</span>
      <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
    <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
  methods<span class="token operator" data-v-47d1da0a>:</span> <span class="token punctuation" data-v-47d1da0a>{</span>
    <span class="token function" data-v-47d1da0a>hideLine</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token punctuation" data-v-47d1da0a>{</span>
      Object<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>keys</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>lineStatus<span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>forEach</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token parameter" data-v-47d1da0a>line</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token operator" data-v-47d1da0a>=&gt;</span> <span class="token punctuation" data-v-47d1da0a>{</span>
        <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>lineStatus<span class="token punctuation" data-v-47d1da0a>[</span>line<span class="token punctuation" data-v-47d1da0a>]</span> <span class="token operator" data-v-47d1da0a>=</span> <span class="token boolean" data-v-47d1da0a>false</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
    <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
    <span class="token function" data-v-47d1da0a>showLine</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token parameter" data-v-47d1da0a>currentComponent<span class="token punctuation" data-v-47d1da0a>,</span> index<span class="token punctuation" data-v-47d1da0a>,</span> top<span class="token punctuation" data-v-47d1da0a>,</span> left<span class="token punctuation" data-v-47d1da0a>,</span> toDown<span class="token punctuation" data-v-47d1da0a>,</span> toRight</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token punctuation" data-v-47d1da0a>{</span>
      <span class="token keyword" data-v-47d1da0a>const</span> rest <span class="token operator" data-v-47d1da0a>=</span> <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>componentData<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>filter</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token parameter" data-v-47d1da0a>c<span class="token punctuation" data-v-47d1da0a>,</span> i</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token operator" data-v-47d1da0a>=&gt;</span> i <span class="token operator" data-v-47d1da0a>!=</span> index<span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>[</span><span class="token number" data-v-47d1da0a>0</span><span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token keyword" data-v-47d1da0a>const</span> rwidth <span class="token operator" data-v-47d1da0a>=</span> <span class="token operator" data-v-47d1da0a>+</span>rest<span class="token punctuation" data-v-47d1da0a>.</span>style<span class="token punctuation" data-v-47d1da0a>.</span>width<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>replace</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;&quot;</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token keyword" data-v-47d1da0a>const</span> rheight <span class="token operator" data-v-47d1da0a>=</span> <span class="token operator" data-v-47d1da0a>+</span>rest<span class="token punctuation" data-v-47d1da0a>.</span>style<span class="token punctuation" data-v-47d1da0a>.</span>height<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>replace</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;&quot;</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token keyword" data-v-47d1da0a>const</span> rtop <span class="token operator" data-v-47d1da0a>=</span> <span class="token operator" data-v-47d1da0a>+</span>rest<span class="token punctuation" data-v-47d1da0a>.</span>style<span class="token punctuation" data-v-47d1da0a>.</span>top<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>replace</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;&quot;</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token keyword" data-v-47d1da0a>const</span> rleft <span class="token operator" data-v-47d1da0a>=</span> <span class="token operator" data-v-47d1da0a>+</span>rest<span class="token punctuation" data-v-47d1da0a>.</span>style<span class="token punctuation" data-v-47d1da0a>.</span>left<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>replace</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;&quot;</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token keyword" data-v-47d1da0a>const</span> width <span class="token operator" data-v-47d1da0a>=</span> <span class="token operator" data-v-47d1da0a>+</span>currentComponent<span class="token punctuation" data-v-47d1da0a>.</span>style<span class="token punctuation" data-v-47d1da0a>.</span>width<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>replace</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;&quot;</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token keyword" data-v-47d1da0a>const</span> height <span class="token operator" data-v-47d1da0a>=</span> <span class="token operator" data-v-47d1da0a>+</span>currentComponent<span class="token punctuation" data-v-47d1da0a>.</span>style<span class="token punctuation" data-v-47d1da0a>.</span>height<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>replace</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;&quot;</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>hideLine</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token keyword" data-v-47d1da0a>const</span> lines <span class="token operator" data-v-47d1da0a>=</span> <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>$refs<span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token keyword" data-v-47d1da0a>let</span> changeLeft <span class="token operator" data-v-47d1da0a>=</span> left<span class="token punctuation" data-v-47d1da0a>,</span>
        changeTop <span class="token operator" data-v-47d1da0a>=</span> top<span class="token punctuation" data-v-47d1da0a>;</span>

      <span class="token keyword" data-v-47d1da0a>const</span> rules <span class="token operator" data-v-47d1da0a>=</span> <span class="token punctuation" data-v-47d1da0a>{</span>
        updown<span class="token operator" data-v-47d1da0a>:</span> <span class="token punctuation" data-v-47d1da0a>[</span>
          <span class="token punctuation" data-v-47d1da0a>{</span>
            condition<span class="token operator" data-v-47d1da0a>:</span> top <span class="token operator" data-v-47d1da0a>+</span> height <span class="token operator" data-v-47d1da0a>&lt;</span> rtop <span class="token operator" data-v-47d1da0a>&amp;&amp;</span> top <span class="token operator" data-v-47d1da0a>+</span> height <span class="token operator" data-v-47d1da0a>+</span> <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>diff <span class="token operator" data-v-47d1da0a>&gt;=</span> rtop<span class="token punctuation" data-v-47d1da0a>,</span>
            line<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;xb&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            ltop<span class="token operator" data-v-47d1da0a>:</span> rtop<span class="token punctuation" data-v-47d1da0a>,</span>
            top<span class="token operator" data-v-47d1da0a>:</span> rtop <span class="token operator" data-v-47d1da0a>-</span> height<span class="token punctuation" data-v-47d1da0a>,</span>
          <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
          <span class="token punctuation" data-v-47d1da0a>{</span>
            condition<span class="token operator" data-v-47d1da0a>:</span> top <span class="token operator" data-v-47d1da0a>&lt;</span> rtop <span class="token operator" data-v-47d1da0a>&amp;&amp;</span> top <span class="token operator" data-v-47d1da0a>+</span> <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>diff <span class="token operator" data-v-47d1da0a>&gt;=</span> rtop<span class="token punctuation" data-v-47d1da0a>,</span>
            line<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;xt&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            ltop<span class="token operator" data-v-47d1da0a>:</span> rtop<span class="token punctuation" data-v-47d1da0a>,</span>
            top<span class="token operator" data-v-47d1da0a>:</span> rtop<span class="token punctuation" data-v-47d1da0a>,</span>
          <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
          <span class="token punctuation" data-v-47d1da0a>{</span>
            condition<span class="token operator" data-v-47d1da0a>:</span>
              top <span class="token operator" data-v-47d1da0a>+</span> height <span class="token operator" data-v-47d1da0a>/</span> <span class="token number" data-v-47d1da0a>2</span> <span class="token operator" data-v-47d1da0a>&lt;</span> rtop <span class="token operator" data-v-47d1da0a>+</span> rheight <span class="token operator" data-v-47d1da0a>/</span> <span class="token number" data-v-47d1da0a>2</span> <span class="token operator" data-v-47d1da0a>&amp;&amp;</span>
              top <span class="token operator" data-v-47d1da0a>+</span> height <span class="token operator" data-v-47d1da0a>/</span> <span class="token number" data-v-47d1da0a>2</span> <span class="token operator" data-v-47d1da0a>+</span> <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>diff <span class="token operator" data-v-47d1da0a>&gt;=</span> rtop <span class="token operator" data-v-47d1da0a>+</span> rheight <span class="token operator" data-v-47d1da0a>/</span> <span class="token number" data-v-47d1da0a>2</span><span class="token punctuation" data-v-47d1da0a>,</span>
            line<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;xc&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            ltop<span class="token operator" data-v-47d1da0a>:</span> rtop <span class="token operator" data-v-47d1da0a>+</span> rheight <span class="token operator" data-v-47d1da0a>/</span> <span class="token number" data-v-47d1da0a>2</span><span class="token punctuation" data-v-47d1da0a>,</span>
            top<span class="token operator" data-v-47d1da0a>:</span> rtop <span class="token operator" data-v-47d1da0a>+</span> rheight <span class="token operator" data-v-47d1da0a>/</span> <span class="token number" data-v-47d1da0a>2</span> <span class="token operator" data-v-47d1da0a>-</span> height <span class="token operator" data-v-47d1da0a>/</span> <span class="token number" data-v-47d1da0a>2</span><span class="token punctuation" data-v-47d1da0a>,</span>
          <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
          <span class="token punctuation" data-v-47d1da0a>{</span>
            condition<span class="token operator" data-v-47d1da0a>:</span>
              top <span class="token operator" data-v-47d1da0a>+</span> height <span class="token operator" data-v-47d1da0a>&lt;</span> rtop <span class="token operator" data-v-47d1da0a>+</span> rheight <span class="token operator" data-v-47d1da0a>&amp;&amp;</span>
              top <span class="token operator" data-v-47d1da0a>+</span> height <span class="token operator" data-v-47d1da0a>+</span> <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>diff <span class="token operator" data-v-47d1da0a>&gt;=</span> rtop <span class="token operator" data-v-47d1da0a>+</span> rheight<span class="token punctuation" data-v-47d1da0a>,</span>
            line<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;xb&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            ltop<span class="token operator" data-v-47d1da0a>:</span> rtop <span class="token operator" data-v-47d1da0a>+</span> rheight<span class="token punctuation" data-v-47d1da0a>,</span>
            top<span class="token operator" data-v-47d1da0a>:</span> rtop <span class="token operator" data-v-47d1da0a>+</span> rheight <span class="token operator" data-v-47d1da0a>-</span> height<span class="token punctuation" data-v-47d1da0a>,</span>
          <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
          <span class="token punctuation" data-v-47d1da0a>{</span>
            condition<span class="token operator" data-v-47d1da0a>:</span>
              top <span class="token operator" data-v-47d1da0a>&lt;</span> rtop <span class="token operator" data-v-47d1da0a>+</span> rheight <span class="token operator" data-v-47d1da0a>&amp;&amp;</span> top <span class="token operator" data-v-47d1da0a>+</span> <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>diff <span class="token operator" data-v-47d1da0a>&gt;=</span> rtop <span class="token operator" data-v-47d1da0a>+</span> rheight<span class="token punctuation" data-v-47d1da0a>,</span>
            line<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;xt&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            ltop<span class="token operator" data-v-47d1da0a>:</span> rtop <span class="token operator" data-v-47d1da0a>+</span> rheight<span class="token punctuation" data-v-47d1da0a>,</span>
            top<span class="token operator" data-v-47d1da0a>:</span> rtop <span class="token operator" data-v-47d1da0a>+</span> rheight<span class="token punctuation" data-v-47d1da0a>,</span>
          <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
        <span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>,</span>
        leftright<span class="token operator" data-v-47d1da0a>:</span> <span class="token punctuation" data-v-47d1da0a>[</span>
          <span class="token punctuation" data-v-47d1da0a>{</span>
            condition<span class="token operator" data-v-47d1da0a>:</span>
              left <span class="token operator" data-v-47d1da0a>+</span> width <span class="token operator" data-v-47d1da0a>&lt;</span> rleft <span class="token operator" data-v-47d1da0a>&amp;&amp;</span> left <span class="token operator" data-v-47d1da0a>+</span> width <span class="token operator" data-v-47d1da0a>+</span> <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>diff <span class="token operator" data-v-47d1da0a>&gt;=</span> rleft<span class="token punctuation" data-v-47d1da0a>,</span>
            line<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;yr&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            lleft<span class="token operator" data-v-47d1da0a>:</span> rleft<span class="token punctuation" data-v-47d1da0a>,</span>
            left<span class="token operator" data-v-47d1da0a>:</span> rleft <span class="token operator" data-v-47d1da0a>-</span> width<span class="token punctuation" data-v-47d1da0a>,</span>
          <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
          <span class="token punctuation" data-v-47d1da0a>{</span>
            condition<span class="token operator" data-v-47d1da0a>:</span> left <span class="token operator" data-v-47d1da0a>&lt;</span> rleft <span class="token operator" data-v-47d1da0a>&amp;&amp;</span> left <span class="token operator" data-v-47d1da0a>+</span> <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>diff <span class="token operator" data-v-47d1da0a>&gt;=</span> rleft<span class="token punctuation" data-v-47d1da0a>,</span>
            line<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;yl&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            lleft<span class="token operator" data-v-47d1da0a>:</span> rleft<span class="token punctuation" data-v-47d1da0a>,</span>
            left<span class="token operator" data-v-47d1da0a>:</span> rleft<span class="token punctuation" data-v-47d1da0a>,</span>
          <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
          <span class="token punctuation" data-v-47d1da0a>{</span>
            condition<span class="token operator" data-v-47d1da0a>:</span>
              left <span class="token operator" data-v-47d1da0a>+</span> width <span class="token operator" data-v-47d1da0a>/</span> <span class="token number" data-v-47d1da0a>2</span> <span class="token operator" data-v-47d1da0a>&lt;</span> rleft <span class="token operator" data-v-47d1da0a>+</span> rwidth <span class="token operator" data-v-47d1da0a>/</span> <span class="token number" data-v-47d1da0a>2</span> <span class="token operator" data-v-47d1da0a>&amp;&amp;</span>
              left <span class="token operator" data-v-47d1da0a>+</span> width <span class="token operator" data-v-47d1da0a>/</span> <span class="token number" data-v-47d1da0a>2</span> <span class="token operator" data-v-47d1da0a>+</span> <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>diff <span class="token operator" data-v-47d1da0a>&gt;=</span> rleft <span class="token operator" data-v-47d1da0a>+</span> rwidth <span class="token operator" data-v-47d1da0a>/</span> <span class="token number" data-v-47d1da0a>2</span><span class="token punctuation" data-v-47d1da0a>,</span>
            line<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;yc&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            lleft<span class="token operator" data-v-47d1da0a>:</span> rleft <span class="token operator" data-v-47d1da0a>+</span> rwidth <span class="token operator" data-v-47d1da0a>/</span> <span class="token number" data-v-47d1da0a>2</span><span class="token punctuation" data-v-47d1da0a>,</span>
            left<span class="token operator" data-v-47d1da0a>:</span> rleft <span class="token operator" data-v-47d1da0a>+</span> rwidth <span class="token operator" data-v-47d1da0a>/</span> <span class="token number" data-v-47d1da0a>2</span> <span class="token operator" data-v-47d1da0a>-</span> width <span class="token operator" data-v-47d1da0a>/</span> <span class="token number" data-v-47d1da0a>2</span><span class="token punctuation" data-v-47d1da0a>,</span>
          <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
          <span class="token punctuation" data-v-47d1da0a>{</span>
            condition<span class="token operator" data-v-47d1da0a>:</span>
              left <span class="token operator" data-v-47d1da0a>+</span> width <span class="token operator" data-v-47d1da0a>&lt;</span> rleft <span class="token operator" data-v-47d1da0a>+</span> rwidth <span class="token operator" data-v-47d1da0a>&amp;&amp;</span>
              left <span class="token operator" data-v-47d1da0a>+</span> width <span class="token operator" data-v-47d1da0a>+</span> <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>diff <span class="token operator" data-v-47d1da0a>&gt;=</span> rleft <span class="token operator" data-v-47d1da0a>+</span> rwidth<span class="token punctuation" data-v-47d1da0a>,</span>
            line<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;yr&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            lleft<span class="token operator" data-v-47d1da0a>:</span> rleft <span class="token operator" data-v-47d1da0a>+</span> rwidth<span class="token punctuation" data-v-47d1da0a>,</span>
            left<span class="token operator" data-v-47d1da0a>:</span> rleft <span class="token operator" data-v-47d1da0a>+</span> rwidth <span class="token operator" data-v-47d1da0a>-</span> width<span class="token punctuation" data-v-47d1da0a>,</span>
          <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
          <span class="token punctuation" data-v-47d1da0a>{</span>
            condition<span class="token operator" data-v-47d1da0a>:</span>
              left <span class="token operator" data-v-47d1da0a>&lt;</span> rleft <span class="token operator" data-v-47d1da0a>+</span> rwidth <span class="token operator" data-v-47d1da0a>&amp;&amp;</span> left <span class="token operator" data-v-47d1da0a>+</span> <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>diff <span class="token operator" data-v-47d1da0a>&gt;=</span> rleft <span class="token operator" data-v-47d1da0a>+</span> rwidth<span class="token punctuation" data-v-47d1da0a>,</span>
            line<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;yl&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            lleft<span class="token operator" data-v-47d1da0a>:</span> rleft <span class="token operator" data-v-47d1da0a>+</span> rwidth<span class="token punctuation" data-v-47d1da0a>,</span>
            left<span class="token operator" data-v-47d1da0a>:</span> rleft <span class="token operator" data-v-47d1da0a>+</span> rwidth<span class="token punctuation" data-v-47d1da0a>,</span>
          <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
        <span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>,</span>
      <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>;</span>

      <span class="token comment" data-v-47d1da0a>// 向上顺序相反</span>
      <span class="token keyword" data-v-47d1da0a>if</span> <span class="token punctuation" data-v-47d1da0a>(</span><span class="token operator" data-v-47d1da0a>!</span>toDown<span class="token punctuation" data-v-47d1da0a>)</span> <span class="token punctuation" data-v-47d1da0a>{</span>
        rules<span class="token punctuation" data-v-47d1da0a>.</span>updown<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>reverse</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token punctuation" data-v-47d1da0a>}</span>
      <span class="token keyword" data-v-47d1da0a>for</span> <span class="token punctuation" data-v-47d1da0a>(</span><span class="token keyword" data-v-47d1da0a>let</span> t <span class="token keyword" data-v-47d1da0a>of</span> rules<span class="token punctuation" data-v-47d1da0a>.</span>updown<span class="token punctuation" data-v-47d1da0a>)</span> <span class="token punctuation" data-v-47d1da0a>{</span>
        <span class="token keyword" data-v-47d1da0a>if</span> <span class="token punctuation" data-v-47d1da0a>(</span>t<span class="token punctuation" data-v-47d1da0a>.</span>condition<span class="token punctuation" data-v-47d1da0a>)</span> <span class="token punctuation" data-v-47d1da0a>{</span>
          <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>lineStatus<span class="token punctuation" data-v-47d1da0a>[</span>t<span class="token punctuation" data-v-47d1da0a>.</span>line<span class="token punctuation" data-v-47d1da0a>]</span> <span class="token operator" data-v-47d1da0a>=</span> <span class="token boolean" data-v-47d1da0a>true</span><span class="token punctuation" data-v-47d1da0a>;</span>
          lines<span class="token punctuation" data-v-47d1da0a>[</span>t<span class="token punctuation" data-v-47d1da0a>.</span>line<span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>[</span><span class="token number" data-v-47d1da0a>0</span><span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>.</span>style<span class="token punctuation" data-v-47d1da0a>.</span>left <span class="token operator" data-v-47d1da0a>=</span> <span class="token number" data-v-47d1da0a>0</span><span class="token punctuation" data-v-47d1da0a>;</span>
          lines<span class="token punctuation" data-v-47d1da0a>[</span>t<span class="token punctuation" data-v-47d1da0a>.</span>line<span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>[</span><span class="token number" data-v-47d1da0a>0</span><span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>.</span>style<span class="token punctuation" data-v-47d1da0a>.</span>top <span class="token operator" data-v-47d1da0a>=</span> t<span class="token punctuation" data-v-47d1da0a>.</span>ltop <span class="token operator" data-v-47d1da0a>+</span> <span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>;</span>
          changeTop <span class="token operator" data-v-47d1da0a>=</span> t<span class="token punctuation" data-v-47d1da0a>.</span>top<span class="token punctuation" data-v-47d1da0a>;</span>
          <span class="token keyword" data-v-47d1da0a>break</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token punctuation" data-v-47d1da0a>}</span>
      <span class="token punctuation" data-v-47d1da0a>}</span>
      <span class="token comment" data-v-47d1da0a>// 向左相反</span>
      <span class="token keyword" data-v-47d1da0a>if</span> <span class="token punctuation" data-v-47d1da0a>(</span><span class="token operator" data-v-47d1da0a>!</span>toRight<span class="token punctuation" data-v-47d1da0a>)</span> <span class="token punctuation" data-v-47d1da0a>{</span>
        rules<span class="token punctuation" data-v-47d1da0a>.</span>leftright<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>reverse</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token punctuation" data-v-47d1da0a>}</span>
      <span class="token keyword" data-v-47d1da0a>for</span> <span class="token punctuation" data-v-47d1da0a>(</span><span class="token keyword" data-v-47d1da0a>let</span> t <span class="token keyword" data-v-47d1da0a>of</span> rules<span class="token punctuation" data-v-47d1da0a>.</span>leftright<span class="token punctuation" data-v-47d1da0a>)</span> <span class="token punctuation" data-v-47d1da0a>{</span>
        <span class="token keyword" data-v-47d1da0a>if</span> <span class="token punctuation" data-v-47d1da0a>(</span>t<span class="token punctuation" data-v-47d1da0a>.</span>condition<span class="token punctuation" data-v-47d1da0a>)</span> <span class="token punctuation" data-v-47d1da0a>{</span>
          <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>lineStatus<span class="token punctuation" data-v-47d1da0a>[</span>t<span class="token punctuation" data-v-47d1da0a>.</span>line<span class="token punctuation" data-v-47d1da0a>]</span> <span class="token operator" data-v-47d1da0a>=</span> <span class="token boolean" data-v-47d1da0a>true</span><span class="token punctuation" data-v-47d1da0a>;</span>
          lines<span class="token punctuation" data-v-47d1da0a>[</span>t<span class="token punctuation" data-v-47d1da0a>.</span>line<span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>[</span><span class="token number" data-v-47d1da0a>0</span><span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>.</span>style<span class="token punctuation" data-v-47d1da0a>.</span>left <span class="token operator" data-v-47d1da0a>=</span> t<span class="token punctuation" data-v-47d1da0a>.</span>lleft <span class="token operator" data-v-47d1da0a>+</span> <span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>;</span>
          lines<span class="token punctuation" data-v-47d1da0a>[</span>t<span class="token punctuation" data-v-47d1da0a>.</span>line<span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>[</span><span class="token number" data-v-47d1da0a>0</span><span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>.</span>style<span class="token punctuation" data-v-47d1da0a>.</span>top <span class="token operator" data-v-47d1da0a>=</span> <span class="token number" data-v-47d1da0a>0</span><span class="token punctuation" data-v-47d1da0a>;</span>
          changeLeft <span class="token operator" data-v-47d1da0a>=</span> t<span class="token punctuation" data-v-47d1da0a>.</span>left<span class="token punctuation" data-v-47d1da0a>;</span>
          <span class="token keyword" data-v-47d1da0a>break</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token punctuation" data-v-47d1da0a>}</span>
      <span class="token punctuation" data-v-47d1da0a>}</span>

      <span class="token keyword" data-v-47d1da0a>const</span> style <span class="token operator" data-v-47d1da0a>=</span> currentComponent<span class="token punctuation" data-v-47d1da0a>.</span>style<span class="token punctuation" data-v-47d1da0a>;</span>

      <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>$set</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>componentData<span class="token punctuation" data-v-47d1da0a>,</span> index<span class="token punctuation" data-v-47d1da0a>,</span> <span class="token punctuation" data-v-47d1da0a>{</span>
        style<span class="token operator" data-v-47d1da0a>:</span> Object<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>assign</span><span class="token punctuation" data-v-47d1da0a>(</span>style<span class="token punctuation" data-v-47d1da0a>,</span> <span class="token punctuation" data-v-47d1da0a>{</span>
          left<span class="token operator" data-v-47d1da0a>:</span> changeLeft <span class="token operator" data-v-47d1da0a>+</span> <span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
        <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>,</span>
      <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>

      <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>$set</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>componentData<span class="token punctuation" data-v-47d1da0a>,</span> index<span class="token punctuation" data-v-47d1da0a>,</span> <span class="token punctuation" data-v-47d1da0a>{</span>
        style<span class="token operator" data-v-47d1da0a>:</span> Object<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>assign</span><span class="token punctuation" data-v-47d1da0a>(</span>style<span class="token punctuation" data-v-47d1da0a>,</span> <span class="token punctuation" data-v-47d1da0a>{</span>
          top<span class="token operator" data-v-47d1da0a>:</span> changeTop <span class="token operator" data-v-47d1da0a>+</span> <span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
        <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>,</span>
      <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
    <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
    <span class="token function" data-v-47d1da0a>handleMouseDown</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token parameter" data-v-47d1da0a>e</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token punctuation" data-v-47d1da0a>{</span>
      e<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>stopPropagation</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token comment" data-v-47d1da0a>// 移动选中的组件</span>
      <span class="token keyword" data-v-47d1da0a>let</span> selected <span class="token operator" data-v-47d1da0a>=</span> <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>componentData<span class="token punctuation" data-v-47d1da0a>[</span>e<span class="token punctuation" data-v-47d1da0a>.</span>target<span class="token punctuation" data-v-47d1da0a>.</span>dataset<span class="token punctuation" data-v-47d1da0a>.</span>index<span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token keyword" data-v-47d1da0a>if</span> <span class="token punctuation" data-v-47d1da0a>(</span><span class="token operator" data-v-47d1da0a>!</span>selected<span class="token punctuation" data-v-47d1da0a>)</span> <span class="token keyword" data-v-47d1da0a>return</span> <span class="token boolean" data-v-47d1da0a>false</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token keyword" data-v-47d1da0a>const</span> component <span class="token operator" data-v-47d1da0a>=</span> <span class="token constant" data-v-47d1da0a>JSON</span><span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>parse</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token constant" data-v-47d1da0a>JSON</span><span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>stringify</span><span class="token punctuation" data-v-47d1da0a>(</span>selected<span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token keyword" data-v-47d1da0a>const</span> pos <span class="token operator" data-v-47d1da0a>=</span> component<span class="token punctuation" data-v-47d1da0a>.</span>style<span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token keyword" data-v-47d1da0a>const</span> startY <span class="token operator" data-v-47d1da0a>=</span> e<span class="token punctuation" data-v-47d1da0a>.</span>clientY<span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token keyword" data-v-47d1da0a>const</span> startX <span class="token operator" data-v-47d1da0a>=</span> e<span class="token punctuation" data-v-47d1da0a>.</span>clientX<span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token keyword" data-v-47d1da0a>const</span> startTop <span class="token operator" data-v-47d1da0a>=</span> <span class="token function" data-v-47d1da0a>Number</span><span class="token punctuation" data-v-47d1da0a>(</span>pos<span class="token punctuation" data-v-47d1da0a>.</span>top<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>replace</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;&quot;</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token keyword" data-v-47d1da0a>const</span> startLeft <span class="token operator" data-v-47d1da0a>=</span> <span class="token function" data-v-47d1da0a>Number</span><span class="token punctuation" data-v-47d1da0a>(</span>pos<span class="token punctuation" data-v-47d1da0a>.</span>left<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>replace</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;&quot;</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>

      <span class="token comment" data-v-47d1da0a>// mousemove 修改位置</span>
      <span class="token keyword" data-v-47d1da0a>const</span> <span class="token function-variable function" data-v-47d1da0a>move</span> <span class="token operator" data-v-47d1da0a>=</span> <span class="token punctuation" data-v-47d1da0a>(</span><span class="token parameter" data-v-47d1da0a>moveEvent</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token operator" data-v-47d1da0a>=&gt;</span> <span class="token punctuation" data-v-47d1da0a>{</span>
        <span class="token keyword" data-v-47d1da0a>const</span> currX <span class="token operator" data-v-47d1da0a>=</span> moveEvent<span class="token punctuation" data-v-47d1da0a>.</span>clientX<span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token keyword" data-v-47d1da0a>const</span> currY <span class="token operator" data-v-47d1da0a>=</span> moveEvent<span class="token punctuation" data-v-47d1da0a>.</span>clientY<span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token keyword" data-v-47d1da0a>const</span> toDown <span class="token operator" data-v-47d1da0a>=</span> currY <span class="token operator" data-v-47d1da0a>-</span> startY <span class="token operator" data-v-47d1da0a>&gt;</span> <span class="token number" data-v-47d1da0a>0</span> <span class="token operator" data-v-47d1da0a>?</span> <span class="token boolean" data-v-47d1da0a>true</span> <span class="token operator" data-v-47d1da0a>:</span> <span class="token boolean" data-v-47d1da0a>false</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token keyword" data-v-47d1da0a>const</span> toRight <span class="token operator" data-v-47d1da0a>=</span> currX <span class="token operator" data-v-47d1da0a>-</span> startX <span class="token operator" data-v-47d1da0a>&gt;</span> <span class="token number" data-v-47d1da0a>0</span> <span class="token operator" data-v-47d1da0a>?</span> <span class="token boolean" data-v-47d1da0a>true</span> <span class="token operator" data-v-47d1da0a>:</span> <span class="token boolean" data-v-47d1da0a>false</span><span class="token punctuation" data-v-47d1da0a>;</span>
        pos<span class="token punctuation" data-v-47d1da0a>.</span>top <span class="token operator" data-v-47d1da0a>=</span> currY <span class="token operator" data-v-47d1da0a>-</span> startY <span class="token operator" data-v-47d1da0a>+</span> startTop<span class="token punctuation" data-v-47d1da0a>;</span>
        pos<span class="token punctuation" data-v-47d1da0a>.</span>left <span class="token operator" data-v-47d1da0a>=</span> currX <span class="token operator" data-v-47d1da0a>-</span> startX <span class="token operator" data-v-47d1da0a>+</span> startLeft<span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>showLine</span><span class="token punctuation" data-v-47d1da0a>(</span>
          selected<span class="token punctuation" data-v-47d1da0a>,</span>
          e<span class="token punctuation" data-v-47d1da0a>.</span>target<span class="token punctuation" data-v-47d1da0a>.</span>dataset<span class="token punctuation" data-v-47d1da0a>.</span>index<span class="token punctuation" data-v-47d1da0a>,</span>
          pos<span class="token punctuation" data-v-47d1da0a>.</span>top<span class="token punctuation" data-v-47d1da0a>,</span>
          pos<span class="token punctuation" data-v-47d1da0a>.</span>left<span class="token punctuation" data-v-47d1da0a>,</span>
          toDown<span class="token punctuation" data-v-47d1da0a>,</span>
          toRight
        <span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token comment" data-v-47d1da0a>// 修改当前组件样式</span>
        selected<span class="token punctuation" data-v-47d1da0a>.</span>style <span class="token operator" data-v-47d1da0a>=</span> <span class="token punctuation" data-v-47d1da0a>{</span>
          top<span class="token operator" data-v-47d1da0a>:</span> pos<span class="token punctuation" data-v-47d1da0a>.</span>top <span class="token operator" data-v-47d1da0a>+</span> <span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
          left<span class="token operator" data-v-47d1da0a>:</span> pos<span class="token punctuation" data-v-47d1da0a>.</span>left <span class="token operator" data-v-47d1da0a>+</span> <span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
          background<span class="token operator" data-v-47d1da0a>:</span> pos<span class="token punctuation" data-v-47d1da0a>.</span>background<span class="token punctuation" data-v-47d1da0a>,</span>
          width<span class="token operator" data-v-47d1da0a>:</span> pos<span class="token punctuation" data-v-47d1da0a>.</span>width<span class="token punctuation" data-v-47d1da0a>,</span>
          height<span class="token operator" data-v-47d1da0a>:</span> pos<span class="token punctuation" data-v-47d1da0a>.</span>height<span class="token punctuation" data-v-47d1da0a>,</span>
        <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>;</span>

      <span class="token comment" data-v-47d1da0a>// mouseup 解除事件绑定</span>
      <span class="token keyword" data-v-47d1da0a>const</span> <span class="token function-variable function" data-v-47d1da0a>up</span> <span class="token operator" data-v-47d1da0a>=</span> <span class="token punctuation" data-v-47d1da0a>(</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token operator" data-v-47d1da0a>=&gt;</span> <span class="token punctuation" data-v-47d1da0a>{</span>
        document<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>removeEventListener</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;mousemove&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> move<span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
        document<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>removeEventListener</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;mouseup&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> up<span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>hideLine</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>;</span>

      document<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>addEventListener</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;mousemove&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> move<span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
      document<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>addEventListener</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;mouseup&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> up<span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
    <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
  <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
<span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>;</span>
</span></span><span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>script</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>

<span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>style</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span><span class="token style" data-v-47d1da0a><span class="token language-css" data-v-47d1da0a>
<span class="token selector" data-v-47d1da0a>.content</span> <span class="token punctuation" data-v-47d1da0a>{</span>
  <span class="token property" data-v-47d1da0a>height</span><span class="token punctuation" data-v-47d1da0a>:</span> 200px<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>flex</span><span class="token punctuation" data-v-47d1da0a>:</span> 1<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>border</span><span class="token punctuation" data-v-47d1da0a>:</span> 1px solid lightblue<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>margin-left</span><span class="token punctuation" data-v-47d1da0a>:</span> 10px<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>position</span><span class="token punctuation" data-v-47d1da0a>:</span> relative<span class="token punctuation" data-v-47d1da0a>;</span>
<span class="token punctuation" data-v-47d1da0a>}</span>

<span class="token selector" data-v-47d1da0a>.component</span> <span class="token punctuation" data-v-47d1da0a>{</span>
  <span class="token property" data-v-47d1da0a>position</span><span class="token punctuation" data-v-47d1da0a>:</span> absolute<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>height</span><span class="token punctuation" data-v-47d1da0a>:</span> fit-content<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>width</span><span class="token punctuation" data-v-47d1da0a>:</span> fit-content<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>text-align</span><span class="token punctuation" data-v-47d1da0a>:</span> center<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>color</span><span class="token punctuation" data-v-47d1da0a>:</span> #333<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>display</span><span class="token punctuation" data-v-47d1da0a>:</span> flex<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>align-items</span><span class="token punctuation" data-v-47d1da0a>:</span> center<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>justify-content</span><span class="token punctuation" data-v-47d1da0a>:</span> center<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>cursor</span><span class="token punctuation" data-v-47d1da0a>:</span> pointer<span class="token punctuation" data-v-47d1da0a>;</span>
<span class="token punctuation" data-v-47d1da0a>}</span>
<span class="token selector" data-v-47d1da0a>.mark-line</span> <span class="token punctuation" data-v-47d1da0a>{</span>
  <span class="token property" data-v-47d1da0a>height</span><span class="token punctuation" data-v-47d1da0a>:</span> 100%<span class="token punctuation" data-v-47d1da0a>;</span>
<span class="token punctuation" data-v-47d1da0a>}</span>
<span class="token selector" data-v-47d1da0a>.line</span> <span class="token punctuation" data-v-47d1da0a>{</span>
  <span class="token property" data-v-47d1da0a>background</span><span class="token punctuation" data-v-47d1da0a>:</span> #59c7f9<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>position</span><span class="token punctuation" data-v-47d1da0a>:</span> absolute<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>z-index</span><span class="token punctuation" data-v-47d1da0a>:</span> 1000<span class="token punctuation" data-v-47d1da0a>;</span>
<span class="token punctuation" data-v-47d1da0a>}</span>
<span class="token selector" data-v-47d1da0a>.xline</span> <span class="token punctuation" data-v-47d1da0a>{</span>
  <span class="token property" data-v-47d1da0a>width</span><span class="token punctuation" data-v-47d1da0a>:</span> 100%<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>height</span><span class="token punctuation" data-v-47d1da0a>:</span> 1px<span class="token punctuation" data-v-47d1da0a>;</span>
<span class="token punctuation" data-v-47d1da0a>}</span>
<span class="token selector" data-v-47d1da0a>.yline</span> <span class="token punctuation" data-v-47d1da0a>{</span>
  <span class="token property" data-v-47d1da0a>width</span><span class="token punctuation" data-v-47d1da0a>:</span> 1px<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>height</span><span class="token punctuation" data-v-47d1da0a>:</span> 100%<span class="token punctuation" data-v-47d1da0a>;</span>
<span class="token punctuation" data-v-47d1da0a>}</span>
</span></span><span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>style</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper" data-v-47d1da0a><span class="line-number" data-v-47d1da0a>1</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>2</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>3</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>4</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>5</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>6</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>7</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>8</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>9</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>10</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>11</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>12</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>13</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>14</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>15</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>16</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>17</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>18</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>19</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>20</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>21</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>22</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>23</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>24</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>25</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>26</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>27</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>28</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>29</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>30</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>31</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>32</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>33</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>34</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>35</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>36</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>37</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>38</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>39</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>40</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>41</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>42</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>43</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>44</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>45</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>46</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>47</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>48</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>49</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>50</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>51</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>52</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>53</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>54</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>55</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>56</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>57</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>58</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>59</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>60</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>61</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>62</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>63</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>64</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>65</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>66</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>67</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>68</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>69</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>70</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>71</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>72</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>73</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>74</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>75</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>76</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>77</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>78</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>79</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>80</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>81</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>82</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>83</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>84</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>85</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>86</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>87</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>88</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>89</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>90</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>91</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>92</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>93</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>94</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>95</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>96</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>97</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>98</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>99</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>100</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>101</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>102</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>103</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>104</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>105</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>106</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>107</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>108</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>109</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>110</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>111</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>112</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>113</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>114</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>115</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>116</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>117</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>118</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>119</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>120</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>121</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>122</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>123</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>124</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>125</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>126</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>127</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>128</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>129</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>130</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>131</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>132</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>133</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>134</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>135</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>136</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>137</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>138</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>139</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>140</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>141</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>142</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>143</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>144</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>145</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>146</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>147</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>148</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>149</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>150</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>151</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>152</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>153</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>154</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>155</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>156</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>157</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>158</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>159</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>160</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>161</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>162</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>163</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>164</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>165</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>166</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>167</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>168</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>169</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>170</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>171</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>172</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>173</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>174</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>175</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>176</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>177</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>178</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>179</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>180</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>181</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>182</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>183</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>184</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>185</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>186</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>187</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>188</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>189</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>190</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>191</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>192</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>193</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>194</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>195</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>196</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>197</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>198</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>199</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>200</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>201</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>202</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>203</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>204</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>205</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>206</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>207</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>208</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>209</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>210</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>211</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>212</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>213</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>214</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>215</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>216</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>217</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>218</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>219</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>220</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>221</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>222</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>223</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>224</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>225</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>226</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>227</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>228</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>229</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>230</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>231</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>232</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>233</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>234</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>235</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>236</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>237</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>238</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>239</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>240</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>241</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>242</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>243</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>244</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>245</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>246</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>247</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>248</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>249</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>250</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>251</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>252</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>253</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>254</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>255</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>256</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>257</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>258</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>259</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>260</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>261</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>262</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>263</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>264</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>265</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>266</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>267</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>268</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>269</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>270</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>271</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>272</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>273</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>274</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>275</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>276</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>277</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>278</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>279</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>280</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>281</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>282</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>283</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>284</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>285</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>286</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>287</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>288</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>289</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>290</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>291</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>292</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>293</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>294</span><br data-v-47d1da0a></div></div></div></div> <div class="demo-block-control" style="width:unset;" data-v-47d1da0a><i class="caret-bottom icon" data-v-47d1da0a data-v-47d1da0a></i> <span style="display:none;" data-v-47d1da0a data-v-47d1da0a>Expand</span> <span class="copy-action" style="display:;" data-v-47d1da0a>Copy</span> <span class="copy-action copy-action-success" style="display:none;" data-v-47d1da0a data-v-47d1da0a>Copy</span></div></div><h2 id="属性设置"><a href="#属性设置" class="header-anchor">#</a> 属性设置</h2> <p>点击组件显示对应的属性设置，修改属性组件样式应用修改。</p> <p>思路：</p> <ol><li>点击组件把组件的样式对象绑定到属性设置上</li> <li>利用双向绑定在修改属性的时候修改对应样式</li></ol> <div class="demo-block demo-en-US demo-vdrag.html" data-v-47d1da0a><div class="demo-content" data-v-47d1da0a><div><div class="prop-wrapper"><div class="prop-content"><div data-index="0" class="list" style="top:20px;left:20px;background:lightblue;height:100px;width:100px;"></div><div data-index="1" class="list" style="top:20px;left:110px;background:lightgrey;height:100px;width:100px;"></div></div> <div class="prop-div">
      属性设置
      </div></div></div></div> <div class="meta" data-v-47d1da0a><!----> <div class="code-content" data-v-47d1da0a><div class="language-vue line-numbers-mode" data-v-47d1da0a><pre class="language-vue" data-v-47d1da0a><code data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>template</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
  <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>div</span> <span class="token attr-name" data-v-47d1da0a>class</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>prop-wrapper<span class="token punctuation" data-v-47d1da0a>&quot;</span></span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
    <span class="token comment" data-v-47d1da0a>&lt;!-- 画板 --&gt;</span>
    <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>div</span> <span class="token attr-name" data-v-47d1da0a>class</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>prop-content<span class="token punctuation" data-v-47d1da0a>&quot;</span></span> <span class="token attr-name" data-v-47d1da0a>ref</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>content<span class="token punctuation" data-v-47d1da0a>&quot;</span></span> <span class="token attr-name" data-v-47d1da0a>@click</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>currentComponent = null<span class="token punctuation" data-v-47d1da0a>&quot;</span></span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
      <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>div</span>
        <span class="token attr-name" data-v-47d1da0a>v-for</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>(item, index) in componentData<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
        <span class="token attr-name" data-v-47d1da0a>:key</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>index<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
        <span class="token attr-name" data-v-47d1da0a>class</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>list<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
        <span class="token attr-name" data-v-47d1da0a>:data-index</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>index<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
        <span class="token attr-name" data-v-47d1da0a>:style</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>Object.assign(item.style)<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
        <span class="token attr-name" data-v-47d1da0a>@click</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>handleClick<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
      <span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
        <span class="token comment" data-v-47d1da0a>&lt;!-- 自定义组件 --&gt;</span>
      <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>div</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
    <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>div</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
    <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>div</span> <span class="token attr-name" data-v-47d1da0a>class</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>prop-div<span class="token punctuation" data-v-47d1da0a>&quot;</span></span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
      属性设置
      <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>div</span>
        <span class="token attr-name" data-v-47d1da0a>v-show</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>currentComponent<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
        <span class="token attr-name" data-v-47d1da0a>v-for</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>(key, index) in Object.keys(
          currentComponent ? currentComponent.style : {}
        )<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
        <span class="token attr-name" data-v-47d1da0a>:key</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>index<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
      <span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
        <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>label</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span> {{ key }}：<span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>label</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
        <span class="token comment" data-v-47d1da0a>&lt;!-- 这里使用 v-model 实现双向绑定 --&gt;</span>
        <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>input</span> <span class="token attr-name" data-v-47d1da0a>v-model</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>currentComponent.style[key]<span class="token punctuation" data-v-47d1da0a>&quot;</span></span> <span class="token punctuation" data-v-47d1da0a>/&gt;</span></span>
      <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>div</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
    <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>div</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
  <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>div</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
<span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>template</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>

<span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>script</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span><span class="token script" data-v-47d1da0a><span class="token language-javascript" data-v-47d1da0a>
<span class="token keyword" data-v-47d1da0a>export</span> <span class="token keyword" data-v-47d1da0a>default</span> <span class="token punctuation" data-v-47d1da0a>{</span>
  <span class="token function" data-v-47d1da0a>data</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token punctuation" data-v-47d1da0a>{</span>
    <span class="token keyword" data-v-47d1da0a>return</span> <span class="token punctuation" data-v-47d1da0a>{</span>
      componentData<span class="token operator" data-v-47d1da0a>:</span> <span class="token punctuation" data-v-47d1da0a>[</span>
        <span class="token punctuation" data-v-47d1da0a>{</span>
          style<span class="token operator" data-v-47d1da0a>:</span> <span class="token punctuation" data-v-47d1da0a>{</span>
            top<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;20px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            left<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;20px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            background<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;lightblue&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            height<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;100px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            width<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;100px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
          <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
        <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
        <span class="token punctuation" data-v-47d1da0a>{</span>
          style<span class="token operator" data-v-47d1da0a>:</span> <span class="token punctuation" data-v-47d1da0a>{</span>
            top<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;20px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            left<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;110px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            background<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;lightgrey&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            height<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;100px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            width<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;100px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
          <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
        <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
      <span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>,</span>
      currentComponent<span class="token operator" data-v-47d1da0a>:</span> <span class="token keyword" data-v-47d1da0a>null</span><span class="token punctuation" data-v-47d1da0a>,</span>
    <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
  methods<span class="token operator" data-v-47d1da0a>:</span> <span class="token punctuation" data-v-47d1da0a>{</span>
    <span class="token function" data-v-47d1da0a>handleClick</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token parameter" data-v-47d1da0a>e</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token punctuation" data-v-47d1da0a>{</span>
      e<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>stopPropagation</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
      console<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>log</span><span class="token punctuation" data-v-47d1da0a>(</span>e<span class="token punctuation" data-v-47d1da0a>.</span>target<span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>currentComponent <span class="token operator" data-v-47d1da0a>=</span> <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>componentData<span class="token punctuation" data-v-47d1da0a>[</span>e<span class="token punctuation" data-v-47d1da0a>.</span>target<span class="token punctuation" data-v-47d1da0a>.</span>dataset<span class="token punctuation" data-v-47d1da0a>.</span>index<span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>;</span>
    <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
  <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
<span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>;</span>
</span></span><span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>script</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>

<span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>style</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span><span class="token style" data-v-47d1da0a><span class="token language-css" data-v-47d1da0a>
<span class="token selector" data-v-47d1da0a>.prop-wrapper</span> <span class="token punctuation" data-v-47d1da0a>{</span>
  <span class="token property" data-v-47d1da0a>border</span><span class="token punctuation" data-v-47d1da0a>:</span> 1px solid lightblue<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>display</span><span class="token punctuation" data-v-47d1da0a>:</span> flex<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>flex-direction</span><span class="token punctuation" data-v-47d1da0a>:</span> row<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>padding</span><span class="token punctuation" data-v-47d1da0a>:</span> 10px<span class="token punctuation" data-v-47d1da0a>;</span>
<span class="token punctuation" data-v-47d1da0a>}</span>
<span class="token selector" data-v-47d1da0a>.prop-div</span> <span class="token punctuation" data-v-47d1da0a>{</span>
  <span class="token property" data-v-47d1da0a>margin</span><span class="token punctuation" data-v-47d1da0a>:</span> auto<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>width</span><span class="token punctuation" data-v-47d1da0a>:</span> 300px<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>height</span><span class="token punctuation" data-v-47d1da0a>:</span> 200px<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>border</span><span class="token punctuation" data-v-47d1da0a>:</span> 1px solid lightblue<span class="token punctuation" data-v-47d1da0a>;</span>
<span class="token punctuation" data-v-47d1da0a>}</span>
<span class="token selector" data-v-47d1da0a>.prop-div div</span> <span class="token punctuation" data-v-47d1da0a>{</span>
  <span class="token property" data-v-47d1da0a>display</span><span class="token punctuation" data-v-47d1da0a>:</span> flex<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>flex-direction</span><span class="token punctuation" data-v-47d1da0a>:</span> row<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>justify-content</span><span class="token punctuation" data-v-47d1da0a>:</span> center<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>margin-top</span><span class="token punctuation" data-v-47d1da0a>:</span> 5px<span class="token punctuation" data-v-47d1da0a>;</span>
<span class="token punctuation" data-v-47d1da0a>}</span>

<span class="token selector" data-v-47d1da0a>.prop-div div label</span> <span class="token punctuation" data-v-47d1da0a>{</span>
  <span class="token property" data-v-47d1da0a>width</span><span class="token punctuation" data-v-47d1da0a>:</span> 120px<span class="token punctuation" data-v-47d1da0a>;</span>
<span class="token punctuation" data-v-47d1da0a>}</span>
<span class="token selector" data-v-47d1da0a>.prop-content</span> <span class="token punctuation" data-v-47d1da0a>{</span>
  <span class="token property" data-v-47d1da0a>height</span><span class="token punctuation" data-v-47d1da0a>:</span> 200px<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>border</span><span class="token punctuation" data-v-47d1da0a>:</span> 1px solid lightblue<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>margin</span><span class="token punctuation" data-v-47d1da0a>:</span> 0 20px<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>flex</span><span class="token punctuation" data-v-47d1da0a>:</span> 1<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>position</span><span class="token punctuation" data-v-47d1da0a>:</span> relative<span class="token punctuation" data-v-47d1da0a>;</span>
<span class="token punctuation" data-v-47d1da0a>}</span>

<span class="token selector" data-v-47d1da0a>.prop-content .list</span> <span class="token punctuation" data-v-47d1da0a>{</span>
  <span class="token property" data-v-47d1da0a>position</span><span class="token punctuation" data-v-47d1da0a>:</span> absolute<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>height</span><span class="token punctuation" data-v-47d1da0a>:</span> fit-content<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>width</span><span class="token punctuation" data-v-47d1da0a>:</span> fit-content<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>border</span><span class="token punctuation" data-v-47d1da0a>:</span> 1px solid grey<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>cursor</span><span class="token punctuation" data-v-47d1da0a>:</span> grab<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>margin-bottom</span><span class="token punctuation" data-v-47d1da0a>:</span> 10px<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>text-align</span><span class="token punctuation" data-v-47d1da0a>:</span> center<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>color</span><span class="token punctuation" data-v-47d1da0a>:</span> #333<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>padding</span><span class="token punctuation" data-v-47d1da0a>:</span> 2px 5px<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>display</span><span class="token punctuation" data-v-47d1da0a>:</span> flex<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>align-items</span><span class="token punctuation" data-v-47d1da0a>:</span> center<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>justify-content</span><span class="token punctuation" data-v-47d1da0a>:</span> center<span class="token punctuation" data-v-47d1da0a>;</span>
<span class="token punctuation" data-v-47d1da0a>}</span>
</span></span><span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>style</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper" data-v-47d1da0a><span class="line-number" data-v-47d1da0a>1</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>2</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>3</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>4</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>5</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>6</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>7</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>8</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>9</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>10</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>11</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>12</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>13</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>14</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>15</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>16</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>17</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>18</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>19</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>20</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>21</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>22</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>23</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>24</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>25</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>26</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>27</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>28</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>29</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>30</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>31</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>32</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>33</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>34</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>35</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>36</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>37</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>38</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>39</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>40</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>41</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>42</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>43</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>44</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>45</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>46</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>47</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>48</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>49</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>50</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>51</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>52</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>53</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>54</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>55</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>56</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>57</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>58</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>59</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>60</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>61</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>62</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>63</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>64</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>65</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>66</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>67</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>68</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>69</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>70</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>71</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>72</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>73</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>74</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>75</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>76</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>77</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>78</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>79</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>80</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>81</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>82</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>83</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>84</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>85</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>86</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>87</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>88</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>89</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>90</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>91</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>92</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>93</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>94</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>95</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>96</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>97</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>98</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>99</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>100</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>101</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>102</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>103</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>104</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>105</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>106</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>107</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>108</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>109</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>110</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>111</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>112</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>113</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>114</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>115</span><br data-v-47d1da0a></div></div></div></div> <div class="demo-block-control" style="width:unset;" data-v-47d1da0a><i class="caret-bottom icon" data-v-47d1da0a data-v-47d1da0a></i> <span style="display:none;" data-v-47d1da0a data-v-47d1da0a>Expand</span> <span class="copy-action" style="display:;" data-v-47d1da0a>Copy</span> <span class="copy-action copy-action-success" style="display:none;" data-v-47d1da0a data-v-47d1da0a>Copy</span></div></div><h2 id="预览-保存"><a href="#预览-保存" class="header-anchor">#</a> 预览 保存</h2> <p>预览原理和编辑一样，只是不能编辑，加上一个状态控制是否可以编辑即可</p> <p>保存就是把画布上的 <code>componentData</code> 存储即可，保存有两种选择：</p> <ul><li>服务器</li> <li>客户端 <code>localStorage</code></li></ul> <h2 id="绑定事件-动画"><a href="#绑定事件-动画" class="header-anchor">#</a> 绑定事件 动画</h2> <p>设置里面选中然后给组件添加对应的对象，事件和动画都存储到对象数组里，预览的时候绑定</p> <h2 id="数据请求"><a href="#数据请求" class="header-anchor">#</a> 数据请求</h2> <p>默认自定义数据可以添加在 <code>componentData</code> 里面的一个属性</p> <p>远程数据可以配置一个 <code>url</code> 属性利用 <code>websocket</code> 根据组件 <code>id</code> 订阅更新</p> <h2 id="组合-拆分"><a href="#组合-拆分" class="header-anchor">#</a> 组合 拆分</h2> <p>技术点：</p> <ul><li>选中区域
<ul><li>一个加边框 <code>div</code> 来显示</li> <li><code>mouseDown</code> <ul><li>画布决定起始位置 设置 <code>showArea = true</code></li></ul></li> <li><code>mouseMove</code> <ul><li>更新区域大小 根据 <code>offet-start</code> 正负情况修改 定位样式</li></ul></li> <li><code>mouseUp</code> <ul><li>判断选中的组件 显示选中区域
<ul><li>根据左上角和宽高 是否完全包裹组件的左上角和宽高 符合条件就加入数组</li> <li>遍历数组更新四个顶点 根据顶点构建选中区域样式</li></ul></li> <li>移除事件绑定 设置 <code>showArea = false</code></li></ul></li> <li>问题
<ul><li>移动的时候 offsetY 有的时候会变成一半，起初以为是冒泡导致，发现阻止冒泡也没效果
<ul><li>原因是 mousemove 过程中，触发的事件源元素可能会变成区域元素导致相对位置变化</li> <li>解决：在区域元素样式上添加 <code>pointer-events: none;</code> 使得区域元素永远不会成为鼠标事件的 <code>target</code></li></ul></li></ul></li></ul></li> <li>组合后的移动、<s>旋转</s></li> <li>组合后的放大缩小</li> <li>拆分后子组件样式的恢复</li></ul> <p>组合后，把组件信息从数组中刪除，把选中的组件信息重新生成组合组件，再加入数组
拆分后，把组合组件的每个组件信息重新计算，再添加进组件数组</p> <div class="demo-block demo-en-US demo-vdrag.html" data-v-47d1da0a><div class="demo-content" data-v-47d1da0a><div><div class="content"><div data-index="0" class="combine-component" style="top:30px;left:30px;width:50px;height:50px;background:lightblue;"></div><div data-index="1" class="combine-component" style="top:30px;left:100px;width:50px;height:50px;background:lightgrey;"></div> <div class="area" style="display:none;"></div> <div class="area" style="display:none;"></div></div></div></div> <div class="meta" data-v-47d1da0a><!----> <div class="code-content" data-v-47d1da0a><div class="language-vue line-numbers-mode" data-v-47d1da0a><pre class="language-vue" data-v-47d1da0a><code data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>template</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
  <span class="token comment" data-v-47d1da0a>&lt;!-- 画板 --&gt;</span>
  <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>div</span>
    <span class="token attr-name" data-v-47d1da0a>class</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>content<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
    <span class="token attr-name" data-v-47d1da0a>ref</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>content<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
    <span class="token attr-name" data-v-47d1da0a>@click</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>selected = null<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
    <span class="token attr-name" data-v-47d1da0a>@mousedown</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>contentMouseDown<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
  <span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
    <span class="token comment" data-v-47d1da0a>&lt;!-- 模拟外层包裹组件 --&gt;</span>
    <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>div</span>
      <span class="token attr-name" data-v-47d1da0a>v-for</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>(item, index) in componentData<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
      <span class="token attr-name" data-v-47d1da0a>:key</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>index<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
      <span class="token attr-name" data-v-47d1da0a>class</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>combine-component<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
      <span class="token attr-name" data-v-47d1da0a>:style</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>item.style<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
      <span class="token attr-name" data-v-47d1da0a>:data-index</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>index<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
      <span class="token attr-name" data-v-47d1da0a>@mousedown</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>handleMouseDown<span class="token punctuation" data-v-47d1da0a>&quot;</span></span>
    <span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
      <span class="token comment" data-v-47d1da0a>&lt;!-- 自定义组件 --&gt;</span>
    <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>div</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>

    <span class="token comment" data-v-47d1da0a>&lt;!-- 区域 --&gt;</span>
    <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>div</span> <span class="token attr-name" data-v-47d1da0a>class</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>area<span class="token punctuation" data-v-47d1da0a>&quot;</span></span> <span class="token attr-name" data-v-47d1da0a>v-show</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>showArea<span class="token punctuation" data-v-47d1da0a>&quot;</span></span> <span class="token attr-name" data-v-47d1da0a>:style</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>areaStyle<span class="token punctuation" data-v-47d1da0a>&quot;</span></span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span><span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>div</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>

    <span class="token comment" data-v-47d1da0a>&lt;!-- 选中区域 --&gt;</span>
    <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>div</span> <span class="token attr-name" data-v-47d1da0a>class</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>area<span class="token punctuation" data-v-47d1da0a>&quot;</span></span> <span class="token attr-name" data-v-47d1da0a>v-show</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>showSelectArea<span class="token punctuation" data-v-47d1da0a>&quot;</span></span> <span class="token attr-name" data-v-47d1da0a>:style</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>selectAreaStyle<span class="token punctuation" data-v-47d1da0a>&quot;</span></span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span><span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>div</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
  <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>div</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
<span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>template</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>

<span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>script</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span><span class="token script" data-v-47d1da0a><span class="token language-javascript" data-v-47d1da0a>
<span class="token keyword" data-v-47d1da0a>export</span> <span class="token keyword" data-v-47d1da0a>default</span> <span class="token punctuation" data-v-47d1da0a>{</span>
  <span class="token function" data-v-47d1da0a>data</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token punctuation" data-v-47d1da0a>{</span>
    <span class="token keyword" data-v-47d1da0a>return</span> <span class="token punctuation" data-v-47d1da0a>{</span>
      componentData<span class="token operator" data-v-47d1da0a>:</span> <span class="token punctuation" data-v-47d1da0a>[</span>
        <span class="token punctuation" data-v-47d1da0a>{</span>
          style<span class="token operator" data-v-47d1da0a>:</span> <span class="token punctuation" data-v-47d1da0a>{</span>
            top<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;30px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            left<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;30px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            width<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;50px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            height<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;50px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            background<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;lightblue&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
          <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
        <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
        <span class="token punctuation" data-v-47d1da0a>{</span>
          style<span class="token operator" data-v-47d1da0a>:</span> <span class="token punctuation" data-v-47d1da0a>{</span>
            top<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;30px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            left<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;100px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            width<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;50px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            height<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;50px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            background<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;lightgrey&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
          <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
        <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
      <span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>,</span>
      currentComponent<span class="token operator" data-v-47d1da0a>:</span> <span class="token keyword" data-v-47d1da0a>null</span><span class="token punctuation" data-v-47d1da0a>,</span>
      showArea<span class="token operator" data-v-47d1da0a>:</span> <span class="token boolean" data-v-47d1da0a>false</span><span class="token punctuation" data-v-47d1da0a>,</span>
      showSelectArea<span class="token operator" data-v-47d1da0a>:</span> <span class="token boolean" data-v-47d1da0a>false</span><span class="token punctuation" data-v-47d1da0a>,</span>
      areaStyle<span class="token operator" data-v-47d1da0a>:</span> <span class="token punctuation" data-v-47d1da0a>{</span><span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
      selectAreaStyle<span class="token operator" data-v-47d1da0a>:</span> <span class="token punctuation" data-v-47d1da0a>{</span><span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
      result<span class="token operator" data-v-47d1da0a>:</span> <span class="token punctuation" data-v-47d1da0a>[</span><span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>,</span>
    <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
  methods<span class="token operator" data-v-47d1da0a>:</span> <span class="token punctuation" data-v-47d1da0a>{</span>
    <span class="token function" data-v-47d1da0a>handleMouseDown</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token punctuation" data-v-47d1da0a>{</span><span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
    <span class="token function" data-v-47d1da0a>contentMouseDown</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token parameter" data-v-47d1da0a>e</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token punctuation" data-v-47d1da0a>{</span>
      <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>result <span class="token operator" data-v-47d1da0a>=</span> <span class="token punctuation" data-v-47d1da0a>[</span><span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token keyword" data-v-47d1da0a>const</span> startX <span class="token operator" data-v-47d1da0a>=</span> e<span class="token punctuation" data-v-47d1da0a>.</span>offsetX<span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token keyword" data-v-47d1da0a>const</span> startY <span class="token operator" data-v-47d1da0a>=</span> e<span class="token punctuation" data-v-47d1da0a>.</span>offsetY<span class="token punctuation" data-v-47d1da0a>;</span>

      <span class="token comment" data-v-47d1da0a>// 画布宽高</span>
      <span class="token keyword" data-v-47d1da0a>const</span> width <span class="token operator" data-v-47d1da0a>=</span> <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>$refs<span class="token punctuation" data-v-47d1da0a>.</span>content<span class="token punctuation" data-v-47d1da0a>.</span>clientWidth<span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token keyword" data-v-47d1da0a>const</span> height <span class="token operator" data-v-47d1da0a>=</span> <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>$refs<span class="token punctuation" data-v-47d1da0a>.</span>content<span class="token punctuation" data-v-47d1da0a>.</span>clientHeight<span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token keyword" data-v-47d1da0a>const</span> <span class="token function-variable function" data-v-47d1da0a>move</span> <span class="token operator" data-v-47d1da0a>=</span> <span class="token punctuation" data-v-47d1da0a>(</span><span class="token parameter" data-v-47d1da0a>e</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token operator" data-v-47d1da0a>=&gt;</span> <span class="token punctuation" data-v-47d1da0a>{</span>
        <span class="token keyword" data-v-47d1da0a>const</span> curX <span class="token operator" data-v-47d1da0a>=</span> e<span class="token punctuation" data-v-47d1da0a>.</span>offsetX<span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token keyword" data-v-47d1da0a>const</span> curY <span class="token operator" data-v-47d1da0a>=</span> e<span class="token punctuation" data-v-47d1da0a>.</span>offsetY<span class="token punctuation" data-v-47d1da0a>;</span>

        <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>areaStyle <span class="token operator" data-v-47d1da0a>=</span> Object<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>assign</span><span class="token punctuation" data-v-47d1da0a>(</span>
          <span class="token punctuation" data-v-47d1da0a>{</span><span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
          <span class="token punctuation" data-v-47d1da0a>{</span>
            position<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;absolute&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            width<span class="token operator" data-v-47d1da0a>:</span> Math<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>abs</span><span class="token punctuation" data-v-47d1da0a>(</span>curX <span class="token operator" data-v-47d1da0a>-</span> startX<span class="token punctuation" data-v-47d1da0a>)</span> <span class="token operator" data-v-47d1da0a>+</span> <span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
            height<span class="token operator" data-v-47d1da0a>:</span> Math<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>abs</span><span class="token punctuation" data-v-47d1da0a>(</span>curY <span class="token operator" data-v-47d1da0a>-</span> startY<span class="token punctuation" data-v-47d1da0a>)</span> <span class="token operator" data-v-47d1da0a>+</span> <span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
          <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
          curX <span class="token operator" data-v-47d1da0a>-</span> startX <span class="token operator" data-v-47d1da0a>&gt;=</span> <span class="token number" data-v-47d1da0a>0</span>
            <span class="token operator" data-v-47d1da0a>?</span> <span class="token punctuation" data-v-47d1da0a>{</span> left<span class="token operator" data-v-47d1da0a>:</span> startX <span class="token operator" data-v-47d1da0a>+</span> <span class="token string" data-v-47d1da0a>&quot;px&quot;</span> <span class="token punctuation" data-v-47d1da0a>}</span>
            <span class="token operator" data-v-47d1da0a>:</span> <span class="token punctuation" data-v-47d1da0a>{</span> right<span class="token operator" data-v-47d1da0a>:</span> width <span class="token operator" data-v-47d1da0a>-</span> startX <span class="token operator" data-v-47d1da0a>+</span> <span class="token string" data-v-47d1da0a>&quot;px&quot;</span> <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
          curY <span class="token operator" data-v-47d1da0a>-</span> startY <span class="token operator" data-v-47d1da0a>&gt;=</span> <span class="token number" data-v-47d1da0a>0</span>
            <span class="token operator" data-v-47d1da0a>?</span> <span class="token punctuation" data-v-47d1da0a>{</span> top<span class="token operator" data-v-47d1da0a>:</span> startY <span class="token operator" data-v-47d1da0a>+</span> <span class="token string" data-v-47d1da0a>&quot;px&quot;</span> <span class="token punctuation" data-v-47d1da0a>}</span>
            <span class="token operator" data-v-47d1da0a>:</span> <span class="token punctuation" data-v-47d1da0a>{</span> bottom<span class="token operator" data-v-47d1da0a>:</span> height <span class="token operator" data-v-47d1da0a>-</span> startY <span class="token operator" data-v-47d1da0a>+</span> <span class="token string" data-v-47d1da0a>&quot;px&quot;</span> <span class="token punctuation" data-v-47d1da0a>}</span>
        <span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>showArea <span class="token operator" data-v-47d1da0a>=</span> <span class="token boolean" data-v-47d1da0a>true</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token keyword" data-v-47d1da0a>const</span> <span class="token function-variable function" data-v-47d1da0a>up</span> <span class="token operator" data-v-47d1da0a>=</span> <span class="token punctuation" data-v-47d1da0a>(</span><span class="token parameter" data-v-47d1da0a>e</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token operator" data-v-47d1da0a>=&gt;</span> <span class="token punctuation" data-v-47d1da0a>{</span>
        console<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>log</span><span class="token punctuation" data-v-47d1da0a>(</span>e<span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token keyword" data-v-47d1da0a>const</span> style <span class="token operator" data-v-47d1da0a>=</span> Object<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>assign</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token punctuation" data-v-47d1da0a>{</span><span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>areaStyle<span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token keyword" data-v-47d1da0a>for</span> <span class="token punctuation" data-v-47d1da0a>(</span><span class="token keyword" data-v-47d1da0a>let</span> k <span class="token keyword" data-v-47d1da0a>in</span> style<span class="token punctuation" data-v-47d1da0a>)</span> <span class="token punctuation" data-v-47d1da0a>{</span>
          style<span class="token punctuation" data-v-47d1da0a>[</span>k<span class="token punctuation" data-v-47d1da0a>]</span> <span class="token operator" data-v-47d1da0a>=</span> <span class="token operator" data-v-47d1da0a>+</span>style<span class="token punctuation" data-v-47d1da0a>[</span>k<span class="token punctuation" data-v-47d1da0a>]</span><span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>replace</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;&quot;</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token punctuation" data-v-47d1da0a>}</span>
        <span class="token keyword" data-v-47d1da0a>const</span> x <span class="token operator" data-v-47d1da0a>=</span> style<span class="token punctuation" data-v-47d1da0a>.</span>left <span class="token operator" data-v-47d1da0a>||</span> width <span class="token operator" data-v-47d1da0a>-</span> <span class="token punctuation" data-v-47d1da0a>(</span>style<span class="token punctuation" data-v-47d1da0a>.</span>right <span class="token operator" data-v-47d1da0a>+</span> style<span class="token punctuation" data-v-47d1da0a>.</span>width<span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token keyword" data-v-47d1da0a>const</span> y <span class="token operator" data-v-47d1da0a>=</span> style<span class="token punctuation" data-v-47d1da0a>.</span>top <span class="token operator" data-v-47d1da0a>||</span> height <span class="token operator" data-v-47d1da0a>-</span> <span class="token punctuation" data-v-47d1da0a>(</span>style<span class="token punctuation" data-v-47d1da0a>.</span>bottom <span class="token operator" data-v-47d1da0a>+</span> style<span class="token punctuation" data-v-47d1da0a>.</span>height<span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token keyword" data-v-47d1da0a>const</span> awidth <span class="token operator" data-v-47d1da0a>=</span> style<span class="token punctuation" data-v-47d1da0a>.</span>width<span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token keyword" data-v-47d1da0a>const</span> aheight <span class="token operator" data-v-47d1da0a>=</span> style<span class="token punctuation" data-v-47d1da0a>.</span>height<span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>componentData<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>forEach</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token parameter" data-v-47d1da0a>component</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token operator" data-v-47d1da0a>=&gt;</span> <span class="token punctuation" data-v-47d1da0a>{</span>
          <span class="token keyword" data-v-47d1da0a>let</span> <span class="token punctuation" data-v-47d1da0a>{</span> left<span class="token punctuation" data-v-47d1da0a>,</span> top <span class="token punctuation" data-v-47d1da0a>}</span> <span class="token operator" data-v-47d1da0a>=</span> component<span class="token punctuation" data-v-47d1da0a>.</span>style<span class="token punctuation" data-v-47d1da0a>;</span>
          <span class="token keyword" data-v-47d1da0a>let</span> cwidth <span class="token operator" data-v-47d1da0a>=</span> component<span class="token punctuation" data-v-47d1da0a>.</span>style<span class="token punctuation" data-v-47d1da0a>.</span>width<span class="token punctuation" data-v-47d1da0a>;</span>
          <span class="token keyword" data-v-47d1da0a>let</span> cheight <span class="token operator" data-v-47d1da0a>=</span> component<span class="token punctuation" data-v-47d1da0a>.</span>style<span class="token punctuation" data-v-47d1da0a>.</span>height<span class="token punctuation" data-v-47d1da0a>;</span>
          left <span class="token operator" data-v-47d1da0a>=</span> <span class="token operator" data-v-47d1da0a>+</span>left<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>replace</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;&quot;</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
          top <span class="token operator" data-v-47d1da0a>=</span> <span class="token operator" data-v-47d1da0a>+</span>top<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>replace</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;&quot;</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
          cwidth <span class="token operator" data-v-47d1da0a>=</span> <span class="token operator" data-v-47d1da0a>+</span>cwidth<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>replace</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;&quot;</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
          cheight <span class="token operator" data-v-47d1da0a>=</span> <span class="token operator" data-v-47d1da0a>+</span>cheight<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>replace</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;&quot;</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
          <span class="token keyword" data-v-47d1da0a>if</span> <span class="token punctuation" data-v-47d1da0a>(</span>
            x <span class="token operator" data-v-47d1da0a>&lt;=</span> left <span class="token operator" data-v-47d1da0a>&amp;&amp;</span>
            y <span class="token operator" data-v-47d1da0a>&lt;=</span> top <span class="token operator" data-v-47d1da0a>&amp;&amp;</span>
            left <span class="token operator" data-v-47d1da0a>+</span> cwidth <span class="token operator" data-v-47d1da0a>&lt;=</span> x <span class="token operator" data-v-47d1da0a>+</span> awidth <span class="token operator" data-v-47d1da0a>&amp;&amp;</span>
            top <span class="token operator" data-v-47d1da0a>+</span> cheight <span class="token operator" data-v-47d1da0a>&lt;=</span> y <span class="token operator" data-v-47d1da0a>+</span> aheight
          <span class="token punctuation" data-v-47d1da0a>)</span> <span class="token punctuation" data-v-47d1da0a>{</span>
            <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>result<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>push</span><span class="token punctuation" data-v-47d1da0a>(</span>component<span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
          <span class="token punctuation" data-v-47d1da0a>}</span>
        <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>

        <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>showArea <span class="token operator" data-v-47d1da0a>=</span> <span class="token boolean" data-v-47d1da0a>false</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>areaStyle <span class="token operator" data-v-47d1da0a>=</span> <span class="token punctuation" data-v-47d1da0a>{</span><span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>$refs<span class="token punctuation" data-v-47d1da0a>.</span>content<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>removeEventListener</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;mousemove&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> move<span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>$refs<span class="token punctuation" data-v-47d1da0a>.</span>content<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>removeEventListener</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;mouseup&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> up<span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>;</span>

      <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>$refs<span class="token punctuation" data-v-47d1da0a>.</span>content<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>addEventListener</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;mousemove&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> move<span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>$refs<span class="token punctuation" data-v-47d1da0a>.</span>content<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>addEventListener</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;mouseup&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> up<span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
    <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
  <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
  watch<span class="token operator" data-v-47d1da0a>:</span> <span class="token punctuation" data-v-47d1da0a>{</span>
    <span class="token function" data-v-47d1da0a>result</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token parameter" data-v-47d1da0a>val</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token punctuation" data-v-47d1da0a>{</span>
      <span class="token keyword" data-v-47d1da0a>if</span> <span class="token punctuation" data-v-47d1da0a>(</span>val<span class="token punctuation" data-v-47d1da0a>.</span>length<span class="token punctuation" data-v-47d1da0a>)</span> <span class="token punctuation" data-v-47d1da0a>{</span>
        <span class="token keyword" data-v-47d1da0a>let</span> aleft <span class="token operator" data-v-47d1da0a>=</span> <span class="token number" data-v-47d1da0a>Infinity</span><span class="token punctuation" data-v-47d1da0a>,</span>
          atop <span class="token operator" data-v-47d1da0a>=</span> <span class="token number" data-v-47d1da0a>Infinity</span><span class="token punctuation" data-v-47d1da0a>,</span>
          aright <span class="token operator" data-v-47d1da0a>=</span> <span class="token operator" data-v-47d1da0a>-</span><span class="token number" data-v-47d1da0a>Infinity</span><span class="token punctuation" data-v-47d1da0a>,</span>
          abottom <span class="token operator" data-v-47d1da0a>=</span> <span class="token operator" data-v-47d1da0a>-</span><span class="token number" data-v-47d1da0a>Infinity</span><span class="token punctuation" data-v-47d1da0a>;</span>
        val<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>forEach</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token parameter" data-v-47d1da0a>v</span><span class="token punctuation" data-v-47d1da0a>)</span> <span class="token operator" data-v-47d1da0a>=&gt;</span> <span class="token punctuation" data-v-47d1da0a>{</span>
          <span class="token keyword" data-v-47d1da0a>let</span> <span class="token punctuation" data-v-47d1da0a>{</span> left<span class="token punctuation" data-v-47d1da0a>,</span> top<span class="token punctuation" data-v-47d1da0a>,</span> width<span class="token punctuation" data-v-47d1da0a>,</span> height <span class="token punctuation" data-v-47d1da0a>}</span> <span class="token operator" data-v-47d1da0a>=</span> v<span class="token punctuation" data-v-47d1da0a>.</span>style<span class="token punctuation" data-v-47d1da0a>;</span>
          left <span class="token operator" data-v-47d1da0a>=</span> <span class="token operator" data-v-47d1da0a>+</span>left<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>replace</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;&quot;</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
          top <span class="token operator" data-v-47d1da0a>=</span> <span class="token operator" data-v-47d1da0a>+</span>top<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>replace</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;&quot;</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
          height <span class="token operator" data-v-47d1da0a>=</span> <span class="token operator" data-v-47d1da0a>+</span>height<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>replace</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;&quot;</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
          width <span class="token operator" data-v-47d1da0a>=</span> <span class="token operator" data-v-47d1da0a>+</span>width<span class="token punctuation" data-v-47d1da0a>.</span><span class="token function" data-v-47d1da0a>replace</span><span class="token punctuation" data-v-47d1da0a>(</span><span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span> <span class="token string" data-v-47d1da0a>&quot;&quot;</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
          <span class="token keyword" data-v-47d1da0a>if</span> <span class="token punctuation" data-v-47d1da0a>(</span>left <span class="token operator" data-v-47d1da0a>&lt;</span> aleft<span class="token punctuation" data-v-47d1da0a>)</span> aleft <span class="token operator" data-v-47d1da0a>=</span> left<span class="token punctuation" data-v-47d1da0a>;</span>
          <span class="token keyword" data-v-47d1da0a>if</span> <span class="token punctuation" data-v-47d1da0a>(</span>top <span class="token operator" data-v-47d1da0a>&lt;</span> atop<span class="token punctuation" data-v-47d1da0a>)</span> atop <span class="token operator" data-v-47d1da0a>=</span> top<span class="token punctuation" data-v-47d1da0a>;</span>
          <span class="token keyword" data-v-47d1da0a>if</span> <span class="token punctuation" data-v-47d1da0a>(</span>left <span class="token operator" data-v-47d1da0a>+</span> width <span class="token operator" data-v-47d1da0a>&gt;</span> aright<span class="token punctuation" data-v-47d1da0a>)</span> aright <span class="token operator" data-v-47d1da0a>=</span> left <span class="token operator" data-v-47d1da0a>+</span> width<span class="token punctuation" data-v-47d1da0a>;</span>
          <span class="token keyword" data-v-47d1da0a>if</span> <span class="token punctuation" data-v-47d1da0a>(</span>top <span class="token operator" data-v-47d1da0a>+</span> height <span class="token operator" data-v-47d1da0a>&gt;</span> abottom<span class="token punctuation" data-v-47d1da0a>)</span> abottom <span class="token operator" data-v-47d1da0a>=</span> top <span class="token operator" data-v-47d1da0a>+</span> height<span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>selectAreaStyle <span class="token operator" data-v-47d1da0a>=</span> <span class="token punctuation" data-v-47d1da0a>{</span>
          position<span class="token operator" data-v-47d1da0a>:</span> <span class="token string" data-v-47d1da0a>&quot;absolute&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
          top<span class="token operator" data-v-47d1da0a>:</span> atop <span class="token operator" data-v-47d1da0a>+</span> <span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
          left<span class="token operator" data-v-47d1da0a>:</span> aleft <span class="token operator" data-v-47d1da0a>+</span> <span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
          width<span class="token operator" data-v-47d1da0a>:</span> aright <span class="token operator" data-v-47d1da0a>-</span> aleft <span class="token operator" data-v-47d1da0a>+</span> <span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
          height<span class="token operator" data-v-47d1da0a>:</span> abottom <span class="token operator" data-v-47d1da0a>-</span> atop <span class="token operator" data-v-47d1da0a>+</span> <span class="token string" data-v-47d1da0a>&quot;px&quot;</span><span class="token punctuation" data-v-47d1da0a>,</span>
        <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>showSelectArea <span class="token operator" data-v-47d1da0a>=</span> <span class="token boolean" data-v-47d1da0a>true</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token punctuation" data-v-47d1da0a>}</span> <span class="token keyword" data-v-47d1da0a>else</span> <span class="token punctuation" data-v-47d1da0a>{</span>
        <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>showSelectArea <span class="token operator" data-v-47d1da0a>=</span> <span class="token boolean" data-v-47d1da0a>false</span><span class="token punctuation" data-v-47d1da0a>;</span>
        <span class="token keyword" data-v-47d1da0a>this</span><span class="token punctuation" data-v-47d1da0a>.</span>selectAreaStyle <span class="token operator" data-v-47d1da0a>=</span> <span class="token punctuation" data-v-47d1da0a>{</span><span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>;</span>
      <span class="token punctuation" data-v-47d1da0a>}</span>
    <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
  <span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>,</span>
<span class="token punctuation" data-v-47d1da0a>}</span><span class="token punctuation" data-v-47d1da0a>;</span>
</span></span><span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>script</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>

<span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>style</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span><span class="token style" data-v-47d1da0a><span class="token language-css" data-v-47d1da0a>
<span class="token selector" data-v-47d1da0a>.content</span> <span class="token punctuation" data-v-47d1da0a>{</span>
  <span class="token property" data-v-47d1da0a>height</span><span class="token punctuation" data-v-47d1da0a>:</span> 200px<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>flex</span><span class="token punctuation" data-v-47d1da0a>:</span> 1<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>border</span><span class="token punctuation" data-v-47d1da0a>:</span> 1px solid lightblue<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>margin-left</span><span class="token punctuation" data-v-47d1da0a>:</span> 10px<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>position</span><span class="token punctuation" data-v-47d1da0a>:</span> relative<span class="token punctuation" data-v-47d1da0a>;</span>
<span class="token punctuation" data-v-47d1da0a>}</span>

<span class="token selector" data-v-47d1da0a>.combine-component</span> <span class="token punctuation" data-v-47d1da0a>{</span>
  <span class="token property" data-v-47d1da0a>position</span><span class="token punctuation" data-v-47d1da0a>:</span> absolute<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>height</span><span class="token punctuation" data-v-47d1da0a>:</span> fit-content<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>width</span><span class="token punctuation" data-v-47d1da0a>:</span> fit-content<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>text-align</span><span class="token punctuation" data-v-47d1da0a>:</span> center<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>color</span><span class="token punctuation" data-v-47d1da0a>:</span> #333<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>display</span><span class="token punctuation" data-v-47d1da0a>:</span> flex<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>align-items</span><span class="token punctuation" data-v-47d1da0a>:</span> center<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>justify-content</span><span class="token punctuation" data-v-47d1da0a>:</span> center<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>cursor</span><span class="token punctuation" data-v-47d1da0a>:</span> pointer<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>pointer-events</span><span class="token punctuation" data-v-47d1da0a>:</span> none<span class="token punctuation" data-v-47d1da0a>;</span>
<span class="token punctuation" data-v-47d1da0a>}</span>
<span class="token selector" data-v-47d1da0a>.area</span> <span class="token punctuation" data-v-47d1da0a>{</span>
  <span class="token property" data-v-47d1da0a>border</span><span class="token punctuation" data-v-47d1da0a>:</span> 1px solid lightseagreen<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>pointer-events</span><span class="token punctuation" data-v-47d1da0a>:</span> none<span class="token punctuation" data-v-47d1da0a>;</span>
<span class="token punctuation" data-v-47d1da0a>}</span>
</span></span><span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>style</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper" data-v-47d1da0a><span class="line-number" data-v-47d1da0a>1</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>2</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>3</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>4</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>5</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>6</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>7</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>8</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>9</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>10</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>11</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>12</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>13</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>14</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>15</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>16</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>17</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>18</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>19</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>20</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>21</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>22</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>23</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>24</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>25</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>26</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>27</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>28</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>29</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>30</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>31</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>32</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>33</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>34</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>35</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>36</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>37</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>38</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>39</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>40</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>41</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>42</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>43</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>44</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>45</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>46</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>47</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>48</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>49</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>50</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>51</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>52</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>53</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>54</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>55</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>56</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>57</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>58</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>59</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>60</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>61</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>62</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>63</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>64</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>65</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>66</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>67</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>68</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>69</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>70</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>71</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>72</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>73</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>74</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>75</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>76</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>77</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>78</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>79</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>80</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>81</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>82</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>83</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>84</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>85</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>86</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>87</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>88</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>89</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>90</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>91</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>92</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>93</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>94</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>95</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>96</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>97</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>98</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>99</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>100</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>101</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>102</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>103</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>104</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>105</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>106</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>107</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>108</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>109</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>110</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>111</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>112</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>113</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>114</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>115</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>116</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>117</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>118</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>119</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>120</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>121</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>122</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>123</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>124</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>125</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>126</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>127</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>128</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>129</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>130</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>131</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>132</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>133</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>134</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>135</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>136</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>137</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>138</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>139</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>140</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>141</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>142</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>143</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>144</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>145</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>146</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>147</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>148</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>149</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>150</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>151</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>152</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>153</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>154</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>155</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>156</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>157</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>158</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>159</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>160</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>161</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>162</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>163</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>164</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>165</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>166</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>167</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>168</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>169</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>170</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>171</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>172</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>173</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>174</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>175</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>176</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>177</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>178</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>179</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>180</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>181</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>182</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>183</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>184</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>185</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>186</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>187</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>188</span><br data-v-47d1da0a><span class="line-number" data-v-47d1da0a>189</span><br data-v-47d1da0a></div></div></div></div> <div class="demo-block-control" style="width:unset;" data-v-47d1da0a><i class="caret-bottom icon" data-v-47d1da0a data-v-47d1da0a></i> <span style="display:none;" data-v-47d1da0a data-v-47d1da0a>Expand</span> <span class="copy-action" style="display:;" data-v-47d1da0a>Copy</span> <span class="copy-action copy-action-success" style="display:none;" data-v-47d1da0a data-v-47d1da0a>Copy</span></div></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Grimoire/engineering/upload.html" class="prev">
        前端上传
      </a></span> <span class="next"><a href="/Grimoire/engineering/loader_plugin.html">
        实现 webpack loader&amp;plugin
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/Grimoire/assets/js/app.fcd81a0f.js" defer></script><script src="/Grimoire/assets/js/2.0cda6e6c.js" defer></script><script src="/Grimoire/assets/js/4.8c7aa336.js" defer></script><script src="/Grimoire/assets/js/15.b8087621.js" defer></script>
  </body>
</html>
