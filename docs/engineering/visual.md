# 可视化系统

## 业务痛点

- 固定类型的气象数据展示页面重复开发 （活动页面重复开发）
- 需求改变频繁
- 开发时间短
- 开发人力不足
- 开发工作零碎 维护成本高
- 开发流程涉及产品/运营 沟通成本高

解决：

- 组件复用
- 拖拽生成
- 配置修改

类似游戏引擎

## 要点

- 组件化
  - 动态组件 根据组件信息生成对应类型组件
- dashboard 画布
  - 数组保存每个组件
  - [拖拽 缩放 删除 图层 放大缩小 吸附 标线 配置](/engineering/vdrag.html)
  - 配置表单 JSON Schema
- 组件交互
  - eventbus 发布订阅
  - 固定类型 固定事件
  - 初始化时绑定
- 组件数据
  - 配置请求 api
- 页面预览
  - 修改页面状态 读取缓存页面数据
  - 页面挂载
    - 实时渲染快
    - 可能污染编辑器页面
- 后台渲染
- 页面分享
  - 页面数据保存 得到数据 ID 根据 id 生成分享页面
- 实时数据更新
  - websocket 对应 id 请求
