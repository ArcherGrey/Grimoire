(window.webpackJsonp=window.webpackJsonp||[]).push([[261],{659:function(t,e,v){"use strict";v.r(e);var _=v(19),a=Object(_.a)({},(function(){var t=this,e=t.$createElement,v=t._self._c||e;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h1",{attrs:{id:"生命周期"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#生命周期"}},[t._v("#")]),t._v(" 生命周期")]),t._v(" "),v("h2",{attrs:{id:"vue-的生命周期各阶段都做了什么"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#vue-的生命周期各阶段都做了什么"}},[t._v("#")]),t._v(" vue 的生命周期各阶段都做了什么？")]),t._v(" "),v("ul",[v("li",[v("code",[t._v("beforeCreate")]),t._v(" 实例创建前：这个阶段实例的 "),v("code",[t._v("data、methods")]),t._v(" 是读不到的")]),t._v(" "),v("li",[v("code",[t._v("created")]),t._v(" 实例创建后：这个阶段已经完成了数据绑定("),v("code",[t._v("data observer")]),t._v(")，属性和方法的运算， "),v("code",[t._v("watch/event")]),t._v(" 事件回调。"),v("code",[t._v("mount")]),t._v(" 挂载阶段还没开始，"),v("code",[t._v("$el")]),t._v(" 属性目前不可见，数据并没有在 "),v("code",[t._v("DOM")]),t._v(" 元素上进行渲染")]),t._v(" "),v("li",[v("code",[t._v("beforeMount")]),t._v("：在挂载开始之前被调用：相关的 "),v("code",[t._v("render")]),t._v(" 函数首次被调用。")]),t._v(" "),v("li",[v("code",[t._v("mounted")]),t._v("："),v("code",[t._v("el")]),t._v(" 选项的 "),v("code",[t._v("DOM")]),t._v(" 节点 被新创建的 "),v("code",[t._v("vm.$el")]),t._v(" 替换，并挂载到实例上去之后调用此生命周期函数。此时实例的数据在 DOM 节点上进行渲染")]),t._v(" "),v("li",[v("code",[t._v("beforeUpdate")]),t._v(" 数据更新时调用，但不进行 DOM 重新渲染，在数据更新时 DOM 没渲染前可以在这个生命函数里进行状态处理")]),t._v(" "),v("li",[v("code",[t._v("updated")]),t._v("：这个状态下数据更新并且 DOM 重新渲染，当这个生命周期函数被调用时，组件 DOM 已经更新，所以你现在可以执行依赖于 DOM 的操作。当实例每次进行数据更新时 updated 都会执行")]),t._v(" "),v("li",[t._v("beforeDestory：实例销毁之前调用。")]),t._v(" "),v("li",[t._v("destroyed：Vue 实例销毁后调用。调用后，Vue 实例指示的所有东西都会解绑定，所有的事件监听器会被移除，所有的子实例也会被销毁。")])]),t._v(" "),v("hr"),t._v(" "),v("p",[t._v("vue 生命周期在真实场景下的业务应用：")]),t._v(" "),v("ol",[v("li",[t._v("created：进行 ajax 请求异步数据的获取、初始化数据")]),t._v(" "),v("li",[t._v("mounted：挂载元素内 dom 节点的获取")]),t._v(" "),v("li",[t._v("nextTick：针对单一事件更新数据后立即操作 dom")]),t._v(" "),v("li",[t._v("updated：任何数据的更新，如果要做统一的业务逻辑处理")]),t._v(" "),v("li",[t._v("watch：监听具体数据变化，并做相应的处理")])]),t._v(" "),v("h2",{attrs:{id:"流程表"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#流程表"}},[t._v("#")]),t._v(" 流程表")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",{staticStyle:{"text-align":"center"}},[t._v("顺序")]),t._v(" "),v("th",{staticStyle:{"text-align":"center"}},[t._v("调用时间")]),t._v(" "),v("th",{staticStyle:{"text-align":"center"}},[t._v("名称")])])]),t._v(" "),v("tbody",[v("tr",[v("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("初始化 "),v("code",[t._v("vue")]),t._v(" 实例 ， 数据绑定 "),v("code",[t._v("event watcher")]),t._v(" 配置之前")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[v("code",[t._v("beforeCreate")])])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"center"}},[t._v("2")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("实例创建完成之后，数据绑定 "),v("code",[t._v("prop watch/event")]),t._v(" 完成，"),v("code",[t._v("$el")]),t._v(" 不可用")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[v("code",[t._v("created")])])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"center"}},[t._v("3")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("挂载开始之前，"),v("code",[t._v("render")]),t._v(" 函数首次被调用（服务器渲染期间不被调用）")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[v("code",[t._v("beforeMount")])])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"center"}},[t._v("4")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("实例被挂载后（不能保证所有子组件都完成挂载，如果要等到整个视图都渲染完毕，可以在内部使用 "),v("code",[t._v("$nextTick")]),t._v("）（服务器渲染期间不被调用）")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[v("code",[t._v("mounted")])])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"center"}},[t._v("5")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("虚拟 dom 更新之前（服务器渲染期间不被调用）")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[v("code",[t._v("beforeUpdate")])])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"center"}},[t._v("6")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("完成 dom 更新（服务器渲染期间不被调用）必避免在此阶段修改状态 ，使用 "),v("code",[t._v("watch computed")])]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"center"}},[t._v("7")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("实例销毁之前，这里实例依然可用（服务器渲染期间不被调用）")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[v("code",[t._v("beforeDestroy")])])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"center"}},[t._v("8")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("实例销毁后，所有事件监听所有子组件都被销毁 （服务器渲染期间不被调用）")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[v("code",[t._v("destroyed")])])])])]),t._v(" "),v("h2",{attrs:{id:"调用顺序"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#调用顺序"}},[t._v("#")]),t._v(" 调用顺序")]),t._v(" "),v("p",[t._v("类似事件触发：捕获-目标-冒泡 "),v("code",[t._v("=>")]),t._v(" 父组件-子组件-父组件")]),t._v(" "),v("p",[t._v("父组件 "),v("code",[t._v("P")]),t._v("\n子组件 "),v("code",[t._v("S")])]),t._v(" "),v("ul",[v("li",[t._v("加载过程：\n"),v("ol",[v("li",[t._v("P-beforeCreate")]),t._v(" "),v("li",[t._v("P-created")]),t._v(" "),v("li",[t._v("P-beforeMount")]),t._v(" "),v("li",[t._v("S-beforeCreate")]),t._v(" "),v("li",[t._v("S-created")]),t._v(" "),v("li",[t._v("S-beforeMount")]),t._v(" "),v("li",[t._v("S-mounted")]),t._v(" "),v("li",[t._v("P-mounted")])])]),t._v(" "),v("li",[t._v("子组件更新\n"),v("ol",[v("li",[t._v("P-beforeUpdate")]),t._v(" "),v("li",[t._v("S-beforeUpdate")]),t._v(" "),v("li",[t._v("S-updated")]),t._v(" "),v("li",[t._v("P-updated")])])]),t._v(" "),v("li",[t._v("父组件更新\n"),v("ol",[v("li",[t._v("P-beforeUpdate")]),t._v(" "),v("li",[t._v("P-updated")])])]),t._v(" "),v("li",[t._v("销毁过程\n"),v("ol",[v("li",[t._v("P-beforeDestroy")]),t._v(" "),v("li",[t._v("S-beforeDestroy")]),t._v(" "),v("li",[t._v("S-destroyed")]),t._v(" "),v("li",[t._v("P-destroyed")])])])])])}),[],!1,null,null,null);e.default=a.exports}}]);