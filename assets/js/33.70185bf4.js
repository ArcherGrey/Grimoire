(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{434:function(v,_,l){"use strict";l.r(_);var e=l(19),i=Object(e.a)({},(function(){var v=this,_=v.$createElement,l=v._self._c||_;return l("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[l("h1",{attrs:{id:"工程化"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#工程化"}},[v._v("#")]),v._v(" 工程化")]),v._v(" "),l("h2",{attrs:{id:"npm"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#npm"}},[v._v("#")]),v._v(" npm")]),v._v(" "),l("ul",[l("li",[v._v("包 更新发布\n"),l("ul",[l("li",[v._v("version 使用 npm version 修改")]),v._v(" "),l("li",[v._v("如果需要引入，但是不想打包的库 webpack 配置 externals")])])])]),v._v(" "),l("p",[v._v("版本更新：")]),v._v(" "),l("ul",[l("li",[v._v("npm version | yarn version\n"),l("ul",[l("li",[v._v("patch 0.0.1-0.0.2")]),v._v(" "),l("li",[v._v("minor 0.0.1-0.1.0")]),v._v(" "),l("li",[v._v("major 0.0.1-1.0.0")])])])]),v._v(" "),l("p",[v._v("推送本地所有 tag 到远程")]),v._v(" "),l("ul",[l("li",[v._v("git push origin --tags")])]),v._v(" "),l("p",[v._v("发布包")]),v._v(" "),l("ul",[l("li",[v._v("npm publish | yarn publish")])]),v._v(" "),l("p",[v._v("强制刪除快速")]),v._v(" "),l("ul",[l("li",[v._v("rimraf")])]),v._v(" "),l("p",[v._v("问题")]),v._v(" "),l("ul",[l("li",[v._v("mac 全局安装显示权限不足\n"),l("ul",[l("li",[v._v("命令前面加 "),l("code",[v._v("sudo")])])])])]),v._v(" "),l("h2",{attrs:{id:"工具列表"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#工具列表"}},[v._v("#")]),v._v(" 工具列表")]),v._v(" "),l("ul",[l("li",[l("p",[v._v("包管理工具")]),v._v(" "),l("ul",[l("li",[v._v("npm\n"),l("ul",[l("li",[v._v("npx 解决全局安装依赖和版本问题")])])]),v._v(" "),l("li",[v._v("yarn")]),v._v(" "),l("li",[v._v("nrm 切换 "),l("code",[v._v("npm")]),v._v(" 源")])])]),v._v(" "),l("li",[l("p",[v._v("CI/CD")]),v._v(" "),l("ul",[l("li",[v._v("semantic-release 全自动版本管理和包发布")])])]),v._v(" "),l("li",[l("p",[v._v("网络")]),v._v(" "),l("ul",[l("li",[v._v("Axios 基于 promise 的 HTTP 库")])])])]),v._v(" "),l("ul",[l("li",[v._v("其他\n"),l("ul",[l("li",[v._v("html2canvas 截图")]),v._v(" "),l("li",[v._v("anywhere 当前目录变成一个静态文件服务器的根目录")]),v._v(" "),l("li",[v._v("rimraf 包的形式包装 "),l("code",[v._v("rm -rf")]),v._v(" 命令")])])])]),v._v(" "),l("h2",{attrs:{id:"小问题"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#小问题"}},[v._v("#")]),v._v(" 小问题")]),v._v(" "),l("ul",[l("li",[l("p",[v._v("图片加载失败会显示裂图，这里可以优化")]),v._v(" "),l("ul",[l("li",[v._v("设置 "),l("code",[v._v("onerror")]),v._v(" 请求失败替换 "),l("code",[v._v("src")]),v._v(" 为错误提示图片路径 "),l("code",[v._v("onerror=\"this.src='default.jpg'\"")])]),v._v(" "),l("li",[v._v("注意可能导致无限循环 "),l("code",[v._v("onerror=\"this.src='default.jpg'; this.onerror=null\"")])])])]),v._v(" "),l("li",[l("p",[v._v("webpack")]),v._v(" "),l("ul",[l("li",[v._v("devserve\n"),l("ul",[l("li",[v._v("proxy 修改不生效\n"),l("ul",[l("li",[v._v("可能是缓存导致 请求显示"),l("code",[v._v("from disk cache")])])])])])]),v._v(" "),l("li",[v._v("相同文件多次引用重复打包\n"),l("ul",[l("li",[l("RouterLink",{attrs:{to:"/engineering/router_lazy.html"}},[v._v("路由懒加载")]),v._v(" 造成每个页面单独打包")],1)])]),v._v(" "),l("li",[v._v("image-webpack-loader\n"),l("ul",[l("li",[l("code",[v._v("disable: process.env.NODE_ENV == 'development' ? true : false")]),v._v(" 配置需要按照环境变化而不是网上默认配置 "),l("code",[v._v("true")])]),v._v(" "),l("li",[v._v("开发环境 base64 图片不显示")]),v._v(" "),l("li",[l("code",[v._v("Cannot find module 'gifsicle'")]),v._v(" "),l("ul",[l("li",[v._v("暂时没解决")]),v._v(" "),l("li",[v._v("刪除 "),l("code",[v._v("node_module")]),v._v(" 重新安装 "),l("code",[v._v("npm rebuild")])]),v._v(" "),l("li",[l("code",[v._v("cnpm")]),v._v(" 重新安装")])])])])])])])])])}),[],!1,null,null,null);_.default=i.exports}}]);